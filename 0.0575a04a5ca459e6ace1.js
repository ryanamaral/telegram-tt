(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(100).concat([function(e,t,n){"use strict";var a=n(18),r=n(35),c=n(109);t.a=()=>{const e=Object(r.a)();return Object(c.a)(()=>a.a(e),[e]),a.b}},function(e,t,n){"use strict";var a=n(0),r=n(7),c=n(8),s=n(141),i=n(169),o=n(39),l=n(49),u=n(38);n(204);t.a=e=>{const{ref:t,icon:n,className:d,style:m,children:h,disabled:b,ripple:f,narrow:p,inactive:O,focus:g,destructive:v,multiline:j,isStatic:E,contextActions:y,onClick:N}=e;let T=Object(a.q)(null);t&&(T=t);const{isContextMenuOpen:C,contextMenuPosition:M,handleBeforeContextMenu:w,handleContextMenu:S,handleContextMenuClose:L,handleContextMenuHide:I}=Object(s.a)(T,!y),A=Object(a.m)(()=>T.current,[]),k=Object(a.m)(()=>T.current.closest(".custom-scroll"),[]),x=Object(a.m)(()=>T.current.querySelector(".ListItem-context-menu .bubble"),[]),{positionX:D,positionY:_,style:R}=Object(i.a)(M,A,k,x),F=Object(a.m)(e=>{!b&&N&&N(e)},[b,N]),P=Object(a.m)(e=>{O||r.l||(!y||2!==e.button&&N||w(e),0===e.button&&(N?F(e):S(e)))},[O,y,N,w,S,F]),U=Object(c.a)("ListItem",d,!E&&"no-selection",f&&"has-ripple",p&&"narrow",b&&"disabled",O&&"inactive",M&&"has-menu-open",g&&"focus",v&&"destructive",j&&"multiline",E&&"is-static");return a.a.createElement("div",{ref:T,className:U,style:m},a.a.createElement("div",{className:"ListItem-button",role:"button",tabIndex:0,onClick:!O&&r.l?F:void 0,onMouseDown:P,onContextMenu:!O&&y?S:void 0},n&&a.a.createElement("i",{className:"icon-"+n}),j&&a.a.createElement("div",{className:"multiline-item"},h),!j&&h,!b&&!O&&f&&a.a.createElement(o.a,null)),y&&void 0!==M&&a.a.createElement(l.a,{isOpen:C,positionX:D,positionY:_,style:R,className:"ListItem-context-menu",autoClose:!0,onClose:L,onCloseAnimationEnd:I},y.map(e=>a.a.createElement(u.a,{key:e.title,icon:e.icon,destructive:e.destructive,disabled:!e.handler,onClick:e.handler},e.title))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(0),r=n(9),c=n(45);function s({rootRef:e,throttleMs:t,debounceMs:n,shouldSkipFirst:s,margin:i,threshold:o,isDisabled:l},u){const d=Object(a.q)(),m=Object(a.q)(),h=Object(a.q)(),b=Object(a.q)();m.current=u;const f=Object(a.m)(()=>{h.current=!0},[]),p=Object(a.m)(()=>{h.current=!1,b.current&&(b.current(),b.current=void 0)},[]);Object(c.a)(f,p),Object(a.n)(()=>{if(!l)return()=>{d.current&&(d.current.observer.disconnect(),d.current.callbacks.clear(),d.current=void 0)}},[l]);return{observe:Object(a.m)((a,c)=>{d.current||function(){const a=new Map,c=new Map,l=()=>{const e=Array.from(c.values());e.forEach(t=>{const n=a.get(t.target);n&&n(t,e)}),m.current&&m.current(e),c.clear()},u=t?r.g:n?r.a:void 0,f=u?u(l,t||n,!s):l,p=new IntersectionObserver(e=>{e.forEach(e=>{c.set(e.target,e)}),h.current?b.current=()=>{f()}:f()},{root:e.current,rootMargin:i?i+"px":void 0,threshold:o});d.current={observer:p,callbacks:a}}();const l=d.current;return l.observer.observe(a),c&&l.callbacks.set(a,c),()=>{c&&l.callbacks.delete(a),l.observer.unobserve(a)}},[l]),freeze:f,unfreeze:p}}function i(e,t,n){Object(a.n)(()=>t?t(e.current,n):void 0,[])}function o(e,t,n){const[r,c]=Object(a.r)(!t);return i(e,t,e=>{c(e.isIntersecting),n&&n(e)}),r}},function(e,t,n){"use strict";var a=n(0),r=n(5),c=n(50),s=n(35);t.a=(e,t=!1,n=r.ApiMediaFormat.BlobUrl,i,o)=>{const l=e?c.c(e):void 0,u=Object(s.a)();return Object(a.n)(()=>{if(!t&&e&&!l){const t=Date.now();c.b(e,n).then(()=>{const e=Date.now()-t;!o||e>=o?u():setTimeout(u,o-e)})}},[t,e,l,n,i,u,o]),l}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(19),s=n(6),i=n(4),o=n(22),l=n(3),u=n(100),d=n(107),m=n(129),h=n(152);t.a=Object(a.h)(Object(r.h)((e,{userId:t,forceShowSelf:n})=>{const{lastSyncTime:a}=e,r=Object(s.Fb)(e,t);return{lastSyncTime:a,user:r,isSavedMessages:!n&&r&&r.isSelf,areMessagesLoaded:Boolean(Object(s.m)(e,t))}},(e,t)=>Object(l.l)(t,["loadFullUser","openMediaViewer"]))(({typingStatus:e,avatarSize:t="medium",status:n,withMediaViewer:r,withUsername:s,withFullInfo:l,withUpdatingStatus:b,noStatusOrTyping:f,user:p,isSavedMessages:O,areMessagesLoaded:g,lastSyncTime:v,loadFullUser:j,openMediaViewer:E})=>{const{id:y}=p||{},N=Object(i.Z)(p);Object(a.n)(()=>{l&&v&&y&&j({userId:y})},[y,j,v,l]);const T=Object(a.m)((e,n)=>{p&&n&&(e.stopPropagation(),E({avatarOwnerId:p.id,origin:"jumbo"===t?c.h.ProfileAvatar:c.h.MiddleHeaderAvatar}))},[p,t,E]),C=Object(u.a)();if(p)return a.a.createElement("div",{className:"ChatInfo"},a.a.createElement(d.a,{key:p.id,size:t,user:p,isSavedMessages:O,onClick:r?T:void 0}),a.a.createElement("div",{className:"info"},O?a.a.createElement("div",{className:"title"},a.a.createElement("h3",null,C("SavedMessages"))):a.a.createElement("div",{className:"title"},a.a.createElement("h3",{dir:"auto"},N&&Object(o.a)(N)),p&&p.isVerified&&a.a.createElement(m.a,null)),(n||!O&&!f)&&(n?a.a.createElement("span",{className:"status",dir:"auto"},n):b&&!g?a.a.createElement("span",{className:"status",dir:"auto"},C("Updating")):p?e?a.a.createElement(h.a,{typingStatus:e}):a.a.createElement("div",{className:"status "+(Object(i.xb)(p)?"online":"")},s&&p.username&&a.a.createElement("span",{className:"handle"},p.username),a.a.createElement("span",{className:"user-status",dir:"auto"},Object(i.ab)(C,p))):void 0)))}))},function(e,t,n){"use strict";var a=n(0),r=n(51);var c=n(8),s=n(45),i=n(32),o=n(54),l=n(100),u=n(29),d=n(118);n(146);t.a=e=>{const{title:t,className:n,isOpen:m,header:h,hasCloseButton:b,noBackdrop:f,children:p,onClose:O,onCloseAnimationEnd:g,onEnter:v}=e,{shouldRender:j,transitionClassNames:E}=Object(i.a)(m,g),y=Object(a.q)(null);Object(a.n)(()=>m?Object(r.a)({onEsc:O,onEnter:v}):void 0,[m,O,v]),Object(a.n)(()=>m&&y.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex(e=>e.isSameNode(document.activeElement));let r=0;a>=0&&(r=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[r].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(y.current):void 0,[m]),Object(o.a)(([e])=>(document.body.classList.toggle("has-open-dialog",m),(m||!m&&void 0!==e)&&Object(s.b)(200),()=>{document.body.classList.remove("has-open-dialog")}),[m]);const N=Object(l.a)();if(!j)return;const T=Object(c.a)("Modal",n,E,f&&"transparent-backdrop");return a.a.createElement(d.a,null,a.a.createElement("div",{ref:y,className:T,tabIndex:-1,role:"dialog"},a.a.createElement("div",{className:"modal-container"},a.a.createElement("div",{className:"modal-backdrop",onClick:O}),a.a.createElement("div",{className:"modal-dialog"},h||(t?a.a.createElement("div",{className:"modal-header"},b&&a.a.createElement(u.a,{round:!0,color:"translucent",size:"smaller",ariaLabel:N("Close"),onClick:O},a.a.createElement("i",{className:"icon-close"})),a.a.createElement("div",{className:"modal-title"},t)):void 0),a.a.createElement("div",{className:"modal-content custom-scroll"},p)))))}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(1),s=n(7),i=n(35),o=n(41),l=n(8),u=n(45);n(189);const d={slide:450,"mv-slide":400,"slide-fade":400,"zoom-fade":150,"scroll-slide":500,fade:150,"slide-layers":s.g?450:300,"push-slide":300,reveal:350},m=Symbol("CLEANED_UP");t.a=Object(r.h)(e=>{const{animationLevel:t}=e.settings.byKey;return{animationLevel:t}})(({ref:e,activeKey:t,name:n,direction:r="auto",renderCount:s,shouldRestoreHeight:h,shouldCleanup:b,id:f,className:p,onStart:O,onStop:g,children:v,animationLevel:j})=>{let E=Object(a.q)(null);e&&(E=e);const y=Object(a.q)({}),N=Object(o.a)(t),T=Object(a.q)(),C=Object(i.a)(),M=void 0!==N&&t!==N;!s&&M&&(y.current={[N]:y.current[N]}),y.current[t]=v,Object(a.o)(()=>{function e(){b&&(y.current={[N]:m},C())}const a=E.current,i=a.children;if(1===i.length&&!M)return void i[0].classList.add("active");const o=Array.from(a.childNodes);if(!M||!o.length)return;T.current&&(clearTimeout(T.current),T.current=void 0);const l=-1===r||"auto"===r&&N>t||"inverse"===r&&N<t;a.classList.remove("animating"),a.classList.toggle("backwards",l);const f=Object.keys(y.current).map(Number),p=s?N:f.indexOf(N),v=s?t:f.indexOf(t);if("none"===n||0===j)return o.forEach((e,t)=>{e instanceof HTMLElement&&(e.classList.remove("from","through","to"),e.classList.toggle("active",t===v))}),void e();if(o.forEach((e,t)=>{e instanceof HTMLElement&&(e.classList.remove("active"),e.classList.toggle("from",t===p),e.classList.toggle("through",t>p&&t<v||t<p&&t>v),e.classList.toggle("to",t===v))}),"scroll-slide"===n){const e=a.offsetWidth;a.scrollBy({left:v>p?e:-e,behavior:"smooth"})}j>0&&Object(u.b)(d[n]+c.c),requestAnimationFrame(()=>{a.classList.add("animating"),T.current=window.setTimeout(()=>{requestAnimationFrame(()=>{if(a.classList.remove("animating","backwards"),o.forEach((e,t)=>{e instanceof HTMLElement&&(e.classList.remove("from","through","to"),e.classList.toggle("active",t===v))}),"scroll-slide"===n&&(a.scrollLeft=t*a.offsetWidth),h){const e=a.querySelector(".active");e&&(e.style.height="auto",a.style.height=e.clientHeight+"px")}e(),g&&g()})},d[n]+c.c),O&&O()})},[t,N,M,r,n,O,g,s,h,b,j,C]),Object(a.o)(()=>{if(h){const e=E.current,t=e.querySelector(".active")||e.querySelector(".from");t&&(t.style.height="auto",e.style.height=t.clientHeight+"px",e.style.flexBasis=t.clientHeight+"px")}},[h,v]);const w=y.current,S=Object.keys(s?new Array(s).fill(void 0):w).map(Number).map(e=>{const n=w[e];return"function"==typeof n?a.a.createElement("div",{key:e},n(e===t,e===N)):void 0}),L=Object(l.a)("Transition",p,0===j&&"scroll-slide"===n?"slide":n);return a.a.createElement("div",{ref:E,id:f,className:L},S)})},function(e,t,n){"use strict";var a=n(0),r=n(5),c=n(1),s=n(4),i=n(46),o=n(8),l=n(22),u=n(103),d=n(110),m=n(100);n(191);t.a=Object(a.h)(({className:e,size:t="large",chat:n,user:h,text:b,withOnlineStatus:f,isSavedMessages:p,lastSyncTime:O,onClick:g})=>{const v=h&&Object(s.pb)(h);let j;p||v||(h?j=Object(s.f)(h):n&&(j=Object(s.f)(n)));const E=Object(u.a)(j,!1,r.ApiMediaFormat.DataUri,O),{shouldRenderFullMedia:y,transitionClassNames:N}=Object(d.a)(E,"slow"),T=Object(m.a)();let C="";if(p)C=a.a.createElement("i",{className:"icon-avatar-saved-messages"});else if(v)C=a.a.createElement("i",{className:"icon-avatar-deleted-account"});else if(y)C=a.a.createElement("img",{src:E,className:N+" avatar-media",alt:"",decoding:"async"});else if(h){const e=Object(s.Z)(h);C=e?Object(i.c)(e,2):void 0}else if(n){const e=Object(s.l)(T,n);C=e&&Object(i.c)(e,Object(s.lb)(n.id)?2:1)}else b&&(C=Object(i.c)(b,2));const M=!p&&h&&Object(s.xb)(h),w=Object(o.a)("Avatar size-"+t,e,"color-bg-"+Object(s.X)(h||n),p&&"saved-messages",v&&"deleted-account",f&&M&&"online",g&&"interactive",!p&&!y&&"no-photo"),S=Object(a.m)(e=>{g&&g(e,p||y)},[g,p,y]),L=(h||n)&&(h||n).id;return a.a.createElement("div",{className:w,onClick:S,"data-test-sender-id":c.F?L:void 0},"string"==typeof C?Object(l.a)(C,["jumbo"===t?"hq_emoji":"emoji"]):C)})},function(e,t,n){"use strict";var a=n(19),r=n(0),c=n(9),s=n(151);t.a=({ref:e,className:t,onLoadMore:n,onScroll:i,items:o,itemSelector:l=".ListItem",preloadBackwards:u=20,sensitiveArea:d=800,noScrollRestore:m=!1,noScrollRestoreOnTop:h=!1,noFastList:b,cacheBuster:f,children:p})=>{let O=Object(r.q)(null);e&&(O=e);const g=Object(r.q)({}),[v,j]=Object(r.p)(()=>n?[Object(c.a)(()=>n({direction:a.e.Backwards}),1e3,!0,!1),Object(c.a)(()=>n({direction:a.e.Forwards}),1e3,!0,!1)]:[],[n,o]);Object(r.n)(()=>{if(!v)return;if(u>0&&(!o||o.length<u))return void v();const{scrollHeight:e,clientHeight:t}=O.current;t&&e<=t&&v()},[o,v,u]),Object(r.o)(()=>{const e=O.current,t=g.current;let n;if(t.listItemElements=e.querySelectorAll(l),t.currentAnchor&&Array.from(t.listItemElements).includes(t.currentAnchor)){const{scrollTop:a}=e;n=a+(t.currentAnchor.getBoundingClientRect().top-t.currentAnchorTop)}else{const e=t.listItemElements[0];e&&(t.currentAnchor=e,t.currentAnchorTop=e.getBoundingClientRect().top)}m||h&&0===e.scrollTop||(Object(s.a)(e,n),t.isScrollTopJustUpdated=!0)},[o,l,m,h,f]);const E=Object(r.m)(e=>{if(j&&v){const{listItemElements:e,isScrollTopJustUpdated:t,currentAnchor:n,currentAnchorTop:a}=g.current;if(t)return void(g.current.isScrollTopJustUpdated=!1);const r=e.length,c=O.current,{scrollTop:i,scrollHeight:o,offsetHeight:l}=c,u=i<=(r?e[0].offsetTop:0)+d,m=(r?e[r-1].offsetTop+e[r-1].offsetHeight:o)-(i+l)<=d;let h=!1;if(u){const t=e[0];if(t){const e=t.getBoundingClientRect().top,r=n&&n.offsetParent&&n!==t?n.getBoundingClientRect().top:e;n&&void 0!==a&&r>a&&(g.current.currentAnchor=t,g.current.currentAnchorTop=e,h=!0,Object(s.a)(c),j())}}if(m){const t=e[r-1];if(t){const e=t.getBoundingClientRect().top,r=n&&n.offsetParent&&n!==t?n.getBoundingClientRect().top:e;n&&void 0!==a&&r<a&&(g.current.currentAnchor=t,g.current.currentAnchorTop=e,h=!0,Object(s.a)(c),v())}}if(!h)if(n&&n.offsetParent)g.current.currentAnchorTop=n.getBoundingClientRect().top;else{const t=e[0];t&&(g.current.currentAnchor=t,g.current.currentAnchorTop=t.getBoundingClientRect().top)}}i&&i(e)},[v,j,i,d]);return r.a.createElement("div",{ref:O,className:t,onScroll:E,teactFastList:!b},p)}},function(e,t,n){"use strict";var a=n(41);t.a=(e,t)=>{const n=Object(a.a)(t);n&&!t.some((e,t)=>e!==n[t])||e(n||[])}},function(e,t,n){"use strict";var a=n(0),r=n(32);const c={fast:200,slow:350};t.a=(e,t="fast",n=!1)=>{const s=Boolean(e),i=!Object(a.q)(s).current&&!n,[o,l]=Object(a.r)(!s),{shouldRender:u,transitionClassNames:d}=Object(r.a)(s,void 0,!i,t);return Object(a.n)(()=>{u&&(i?setTimeout(()=>{l(!1)},c[t]):l(!1))},[i,u,t]),{shouldRenderThumb:o,shouldRenderFullMedia:u,transitionClassNames:d}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"l",(function(){return j})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return y}));var a=n(4),r=n(52),c=n(7),s=n(1);const i="(max-height: 640px)",o=parseInt(getComputedStyle(document.documentElement).fontSize,10),l=200,u={width:640,height:640},d={width:100,height:100};let m;function h(e,t,n){const a=t||n?1.625:0;return(function(e){const t=e?30:29;return c.g?(m||(m=Math.min(t,Math.floor(.69*window.innerWidth)/o)),m):t}(e)-a)*o}function b({width:e,height:t,fromOwnMessage:n,isForwarded:a,isWebPagePhoto:r,isGif:c}){const s=t/e;return y(h(n,a,r),function(e,t){return e&&t&&t>=.75&&t<=1.25?20*o:27*o}(c,s),e,t)}function f(e,t){const n=window.matchMedia(i),{width:a,height:c}=r.a.get();let s=t&&n.matches?10:8.25;return e&&(s=n.matches?10:15),{width:a,height:c-s*o}}function p(e,t,n,r){const{width:c,height:s}=Object(a.T)(e)||d;return b({width:c,height:s,fromOwnMessage:t,isForwarded:n,isWebPagePhoto:r})}function O(e,t,n){const{width:r,height:c}=Object(a.bb)(e)||d;return b({width:r,height:c,fromOwnMessage:t,isForwarded:n,isGif:e.isGif})}function g(){return{width:2*o,height:2*o}}function v(e){return e?{width:3*o,height:3*o}:{width:3.375*o,height:3.375*o}}function j(e){const{width:t}=e;let{height:n}=e;"1258816259753933"===e.id&&(n=t);const a=n&&t&&n/t,r=(c.g?s.wb:s.vb)*o,i=a?r*a:r;return a&&i>r?{width:Math.round(r/a),height:r}:{width:r,height:i}}function E({width:e,height:t},n,a=!1){const{width:r,height:c}=f(n,a);return y(r,c,e,t)}function y(e,t,n,a){const r=a/n,c=Math.min(n,e);return Math.round(c*r)>t?{width:Math.round(t/r),height:t}:{width:c,height:Math.round(c*r)}}},function(e,t,n){"use strict";var a=n(0),r=n(9),c=n(8),s=n(45),i=n(127);let o,l;async function u(){return o||(o=n.e(7).then(n.bind(null,188)),l=(await o).default),o}setTimeout(u,5e3);t.a=Object(a.h)(({className:e,id:t,animationData:n,play:o,playSegment:d,speed:m,noLoop:h,size:b,quality:f,isLowPriority:p,onLoad:O})=>{const[g,v]=Object(a.r)(),j=Object(a.q)(null),E=Object(a.q)(!1),y=Object(a.q)(!1),N=Object(a.q)();N.current=o;const T=Object(a.q)();T.current=d,Object(a.n)(()=>{if(g||!n)return;const e=()=>{if(!j.current)return;const e=new l(t,j.current,n,{noLoop:h,size:b,quality:f,isLowPriority:p},O);m&&e.setSpeed(m),v(e)};l?e():u().then(()=>{Object(r.b)(()=>{j.current&&e()})})},[g,n,t,p,h,O,f,b,m]),Object(a.n)(()=>()=>{g&&g.destroy()},[g]);const C=Object(a.m)((e=!1)=>{g&&(N.current||T.current)&&(T.current?g.playSegment(T.current):e?g.goToAndPlay(0):g.play())},[g]),M=Object(a.m)(()=>{g&&g.pause()},[g]),w=Object(a.m)(()=>{y.current=!0,g&&(E.current||(E.current=g.isPlaying()),M())},[g,M]),S=Object(a.m)(()=>{E.current&&C(),E.current=!1,y.current=!1},[C]),L=Object(a.m)(()=>{Object(r.b)(S)},[S]);Object(a.n)(()=>{g&&(o||d?y.current?E.current=!0:C(h):y.current?E.current=!1:M())},[g,o,d,h,C,M]),Object(s.a)(w,S),Object(i.a)(w,L);const I=Object(c.a)("AnimatedSticker",e),A=b?`width: ${b}px; height: ${b}px;`:void 0;return a.a.createElement("div",{ref:j,className:I,style:A})})},function(e,t,n){"use strict";var a=n(0),r=n(100),c=n(105),s=n(29);t.a=Object(a.h)(({isOpen:e,onClose:t,onCloseAnimationEnd:n,title:i,header:o,text:l,textParts:u,confirmLabel:d="Confirm",confirmHandler:m,confirmIsDestructive:h,isButtonsInOneRow:b})=>{const f=Object(r.a)();return a.a.createElement(c.a,{className:"confirm",title:i,header:o,isOpen:e,onClose:t,onCloseAnimationEnd:n,onEnter:m},l&&l.split("\\n").map(e=>a.a.createElement("p",null,e)),u,a.a.createElement("div",{className:b?"dialog-buttons mt-2":""},a.a.createElement(s.a,{className:"confirm-dialog-button",isText:!0,onClick:m,color:h?"danger":"primary"},d),a.a.createElement(s.a,{className:"confirm-dialog-button",isText:!0,onClick:t},f("Cancel"))))})},function(e,t,n){"use strict";var a=n(0),r=n(8),c=n(32),s=n(22),i=n(100);n(245);t.a=Object(a.h)(({text:e="Nothing found.",description:t})=>{const n=Object(i.a)(),{transitionClassNames:o}=Object(c.a)(!0);return a.a.createElement("div",{className:Object(r.a)("NothingFound",o,t&&"with-description")},e,t&&a.a.createElement("p",{className:"description"},Object(s.a)(n(t),["br"])))})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n(109),c=n(35);function s(e,t){const n=void 0===t,s=Object(a.q)(n),i=Object(a.q)(),o=Object(c.a)();return Object(r.a)(()=>{n||(s.current=!1,i.current&&(clearTimeout(i.current),i.current=void 0))},e),Object(a.n)(()=>{if(n||s.current)return;const e=()=>{s.current=!0,o()};t>0?i.current=window.setTimeout(e,t):e()},e),s.current}},function(e,t,n){"use strict";var a=n(0),r=n(7),c=n(5),s=n(9),i=n(50),o=n(35);t.a=(e,t=!1,n=c.ApiMediaFormat.BlobUrl,l,u)=>{const d=e?i.c(e):void 0,m=n===c.ApiMediaFormat.Stream||r.i&&n===c.ApiMediaFormat.Progressive,h=Object(o.a)(),[b,f]=Object(a.r)(d&&!m?1:0),p=Object(a.q)(),O=Object(a.p)(()=>Object(s.g)(e=>{(!u||Date.now()-p.current>u)&&f(e)},500,!0),[u]);return Object(a.n)(()=>{!t&&e&&(d?m&&setTimeout(()=>{f(.75)},1500):(f(0),p.current&&i.a(O),p.current=Date.now(),i.b(e,n,O).then(()=>{const e=Date.now()-p.current;p.current=void 0,!u||e>=u?h():setTimeout(h,u-e)})))},[t,e,d,n,l,h,m,u,O]),Object(a.n)(()=>{t&&p.current&&(i.a(O),f(0))},[O,t]),{mediaData:d,downloadProgress:b}}},function(e,t,n){"use strict";var a=n(0),r=n(8);n(215);const c={s:22,m:25,l:28,xl:20};t.a=Object(a.h)(({progress:e=0,size:t="l",square:n,transparent:s,noCross:i,onClick:o})=>{const l=c[t],u=l-4,d=l-1,m=2*u*Math.PI,h=Object(a.q)(null);Object(a.n)(()=>{if(!h.current)return;const t=h.current.firstElementChild,n=m-Math.min(Math.max(.05,e),1)*m;t?t.firstElementChild.setAttribute("stroke-dashoffset",n.toString()):h.current.innerHTML=`<svg\n        viewBox="0 0 ${2*d} ${2*d}"\n        height="${2*d}"\n        width="${2*d}"\n      >\n        <circle\n          stroke="white"\n          fill="transparent"\n          stroke-width=2\n          stroke-dasharray="${m} ${m}"}\n          stroke-dashoffset="${n}"\n          stroke-linecap="round"\n          r=${u}\n          cx=${d}\n          cy=${d}\n        />\n      </svg>`},[h,m,d,u,e]);const b=Object(r.a)("ProgressSpinner size-"+t,s&&"transparent",n&&"square",i&&"no-cross");return a.a.createElement("div",{ref:h,className:b,onClick:o})})},function(e,t,n){"use strict";var a=n(0),r=n(61);t.a=({containerId:e,className:t,children:n})=>{const c=Object(a.q)(document.createElement("div"));return Object(a.o)(()=>{const n=document.querySelector(e||"#portals");if(!n)return;const a=c.current;return t&&a.classList.add(t),n.appendChild(a),()=>{r.a.render(void 0,a),n.removeChild(a)}},[t,e]),r.a.render(n,c.current)}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(19),s=n(4),i=n(6),o=n(22),l=n(3),u=n(100),d=n(107),m=n(129),h=n(152);t.a=Object(a.h)(Object(r.h)((e,{chatId:t})=>{const{lastSyncTime:n}=e,a=Object(i.f)(e,t);return{lastSyncTime:n,chat:a,onlineCount:a?Object(i.n)(e,a):void 0,areMessagesLoaded:Boolean(Object(i.m)(e,t))}},(e,t)=>Object(l.l)(t,["loadFullChat","openMediaViewer"]))(({typingStatus:e,avatarSize:t="medium",withMediaViewer:n,withUsername:r,withFullInfo:i,withUpdatingStatus:l,withChatType:b,chat:f,onlineCount:p,areMessagesLoaded:O,lastSyncTime:g,loadFullChat:v,openMediaViewer:j})=>{const E=f&&Object(s.nb)(f),{id:y,isMin:N,isRestricted:T}=f||{};Object(a.n)(()=>{y&&!N&&i&&g&&v({chatId:y})},[y,N,g,i,v,E]);const C=Object(a.m)((e,n)=>{f&&n&&(e.stopPropagation(),j({avatarOwnerId:f.id,origin:"jumbo"===t?c.h.ProfileAvatar:c.h.MiddleHeaderAvatar}))},[f,t,j]),M=Object(u.a)();if(f)return a.a.createElement("div",{className:"ChatInfo"},a.a.createElement(d.a,{key:f.id,size:t,chat:f,onClick:n?C:void 0}),a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"title"},a.a.createElement("h3",{dir:"auto"},Object(o.a)(Object(s.l)(M,f))),f.isVerified&&a.a.createElement(m.a,null)),function(){if(l&&!O&&!T)return a.a.createElement("span",{className:"status",dir:"auto"},M("Updating"));if(!f)return;if(e)return a.a.createElement(h.a,{typingStatus:e});if(b)return a.a.createElement("div",{className:"status",dir:"auto"},M(Object(s.m)(f)));const t=r?f.username:void 0,n=function(e,t){const n=e(Object(s.m)(t)),{membersCount:a}=t;if(t.isRestricted)return"Channel"===n?"channel is inaccessible":"group is inaccessible";if(!a)return n;return e("Channel"===n?"Subscribers":"Members",a,"i")}(M,f),c=p?", "+M("OnlineCount",p,"i"):void 0;return a.a.createElement("div",{className:"status"},t&&a.a.createElement("span",{className:"handle"},t),a.a.createElement("span",{className:"group-status"},n),c&&a.a.createElement("span",{className:"online-status"},c))}()))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(19),r=n(45),c=n(9),s=n(57);let i=!1;function o(e,t,n,o=0,l=1500,u,d,m){if(u===a.b.Static)return void t.scrollIntoView({block:n});const{offsetTop:h}=t;if(void 0===u){const t=h-e.scrollTop;t<-l?e.scrollTop+=t+l:t>l&&(e.scrollTop+=t-l)}else u===a.b.Up?e.scrollTop=h+l:u===a.b.Down&&(e.scrollTop=Math.max(0,h-l));i=!0,Object(c.b)(()=>{!function(e,t,n,a=0,c,o){const{offsetTop:l,offsetHeight:u}=t,{scrollTop:d,offsetHeight:m,scrollHeight:h}=e,b=!o&&e.dataset.normalHeight?Number(e.dataset.normalHeight):m;let f;switch(n){case"start":f=l-a-d;break;case"end":f=l+u+a-(d+b);break;case"nearest":case"center":f=u<b?l+u/2-(d+b/2):l-a-d}if(f<0){const e=-d;f=Math.max(f,e)}else if(f>0){const e=h-(d+b);f=Math.min(f,e)}const p=e.scrollTop+f,O=c||250+Math.abs(f)/1500*350,g=Date.now();Object(r.b)(O),Object(s.b)(()=>{const t=Math.min((Date.now()-g)/O,1),n=f*(1-function(e){return 1-(1-e)**3.5}(t));return e.scrollTop=Math.round(p-n),i=t<1,i})}(e,t,n,o,d,m)})}function l(){return i}},,function(e,t,n){"use strict";var a=n(0),r=n(8),c=n(20);n(222);var s=Object(a.h)(({id:e,label:t,subLabel:n,value:s,name:i,checked:o,disabled:l,hidden:u,isLoading:d,onChange:m})=>{const h=Object(r.a)("Radio",l&&"disabled",u&&"hidden-widget",d&&"loading");return a.a.createElement("label",{className:h},a.a.createElement("input",{type:"radio",name:i,value:s,id:e,checked:o,onChange:m,disabled:l||u}),a.a.createElement("div",{className:"Radio-main"},a.a.createElement("span",{className:"label"},t),n&&a.a.createElement("span",{className:"subLabel"},n)),d&&a.a.createElement(c.a,null))});t.a=Object(a.h)(({id:e,name:t,options:n,selected:r,disabled:c,loadingOption:i,onChange:o})=>{const l=Object(a.m)(e=>{const{value:t}=e.currentTarget;o(t)},[o]);return a.a.createElement("div",{id:e,className:"radio-group"},n.map(e=>a.a.createElement(s,{name:t,label:e.label,subLabel:e.subLabel,value:e.value,checked:e.value===r,hidden:e.hidden,disabled:c,isLoading:i?i===e.value:void 0,onChange:l})))})},function(e,t,n){"use strict";var a=n(0),r=n(19),c=n(3),s=n(35),i=n(41);function o(e,t=0,n,a){const{length:c}=e,s=e.indexOf(t),i=n===r.e.Forwards?s:s+1||c,o=Math.max(0,i-a),l=i+a-1,u=e.slice(Math.max(0,o),l+1);let d,m;switch(n){case r.e.Forwards:d=i>0,m=o>=0;break;case r.e.Backwards:d=i<c,m=l<=c-1}return{newViewportIds:u,areSomeLocal:d,areAllLocal:m}}t.a=(e,t,n=!1,l=30,u=!1)=>{const d=Object(a.q)(),m=Object(a.q)((()=>{if(!t||d.current)return;const{newViewportIds:e}=o(t,t[0],r.e.Forwards,l);return e})()),h=Object(s.a)(),b=Object(i.a)(t),f=Object(i.a)(n);if(t&&!n&&(t!==b||n!==f)){const{offsetId:e=t[0],direction:n=r.e.Forwards}=d.current||{},{newViewportIds:a}=o(t,e,n,l);m.current&&Object(c.a)(m.current,a)||(m.current=a)}Object(a.n)(()=>{if(t&&!n&&e&&u){const t=m.current;e({offsetId:t[t.length-1]})}},[t,n,e,u]);const p=Object(a.m)(({direction:n})=>{const a=m.current,s=a?n===r.e.Backwards?a[a.length-1]:a[0]:void 0;if(!t)return void(e&&e({offsetId:s}));d.current={...d.current,direction:n,offsetId:s};const{newViewportIds:i,areSomeLocal:u,areAllLocal:b}=o(t,s,n,l);!u||a&&Object(c.a)(a,i)||(m.current=i,h()),!b&&e&&e({offsetId:s})},[t,l,e,h]);return n?[t]:[m.current,p]}},function(e,t,n){"use strict";var a=n(0),r=n(5),c=n(1),s=n(111),i=n(102),o=n(103),l=n(110),u=n(31),d=n(112);n(220);t.a=({sticker:e,isInline:t=!1,observeIntersection:n,lastSyncTime:m})=>{const h=Object(a.q)(null),[b,f]=Object(u.a)(),p="sticker"+e.id,O=Object(i.b)(h,n),g=Object(o.a)(p+"?size=m",!O,r.ApiMediaFormat.BlobUrl,m),{transitionClassNames:v}=Object(l.a)(g,"slow"),j=Object(o.a)(p,!O,r.ApiMediaFormat.Lottie,m),E=Boolean(j),[y,N]=Object(a.r)(String(Math.random())),T=Object(a.m)(()=>{N(String(Math.random()))},[]);let C;C=t?.5*Object(s.l)(e).width:c.Bb;const M=`width: ${C}px; height: ${C}px;`;return a.a.createElement("div",{ref:h,className:"AnimatedEmoji media-inner",style:M,onClick:T},g&&!b&&a.a.createElement("img",{src:g,className:v,alt:""}),E&&a.a.createElement(d.a,{key:p,id:p,animationData:j,size:C,quality:1,play:O&&y,noLoop:!0,onLoad:f}))}},function(e,t,n){"use strict";function a(e,t){if(!t&&e===document.activeElement)return;const n=window.getSelection(),a=document.createRange();e.lastChild&&e.lastChild.nodeValue?(a.setStart(e.lastChild,e.lastChild.nodeValue.length),n.removeAllRanges(),n.addRange(a)):e.focus()}n.d(t,"a",(function(){return a}))},,function(e,t,n){"use strict";var a=n(0);t.a=(e,t)=>{Object(a.n)(()=>(document.hasFocus()||e(),window.addEventListener("blur",e),window.addEventListener("focus",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",e)}),[e,t])}},function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(a||(a={}));function r(e,t){let n,r,c=!1;function s(e){t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector))||(n=e,"mousedown"===e.type?(document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)):"touchstart"===e.type&&(document.addEventListener("touchmove",o),document.addEventListener("touchend",i),document.addEventListener("touchcancel",i),"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY))),document.body.classList.add("no-selection"),t.withCursor&&document.body.classList.add("cursor-grabbing"),t.onCapture&&t.onCapture(e))}function i(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.body.classList.remove("no-selection"),document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",o),document.removeEventListener("touchcancel",i),document.removeEventListener("touchend",i),document.removeEventListener("touchmove",o),n=void 0,c?t.onRelease&&t.onRelease(e):t.onClick&&t.onClick(e)),c=!1,r=void 0}function o(e){if(n){"touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY));const s=e.pageX-n.pageX,i=e.pageY-n.pageY;(Math.abs(s)>=15||Math.abs(i)>=15)&&(c=!0),t.onDrag&&(e.preventDefault(),t.onDrag(e,n,{dragOffsetX:s,dragOffsetY:i})),t.onSwipe&&function(e,n,c){if(!r){const e=Math.abs(n),t=Math.abs(c);if(n&&c){if(Math.max(e,t)/Math.min(e,t)<2)return}e>=50?r="x":t>=50&&(r="y")}!function(e,t,n,r,c){"x"===t?c(e,n<0?a.Left:a.Right):"y"===t&&c(e,r<0?a.Up:a.Down)}(e,r,n,c,t.onSwipe)}(e,s,i)}}return e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0}),()=>{e.removeEventListener("mousedown",s),e.removeEventListener("touchstart",s)}}},function(e,t,n){"use strict";var a=n(0);n(199);t.a=()=>a.a.createElement("span",{className:"VerifiedIcon"})},function(e,t,n){"use strict";function a(e,t){return t-Math.floor(t/e)*e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(41);function r(e,t=!1,n=!1){const r=Object(a.a)(e,t);return n||null!=e?e:r}},function(e,t,n){"use strict";var a=n(1);t.a=e=>{e.play().catch(e=>{a.p&&console.warn(e)})}},function(e,t,n){"use strict";var a=n(0),r=n(9),c=n(154);t.a=(e=!1)=>{const[t,n]=Object(a.r)(!e),[s,i]=Object(a.r)(0),o=Object(a.p)(()=>Object(r.a)(n,200,!1,!0),[]),l=Object(a.m)(e=>{const t=e.currentTarget;Object(c.a)(t)||(t.buffered.length&&i(t.buffered.end(0)/t.duration),o(t.readyState>=3||t.currentTime>0))},[o]);return{isBuffered:t,bufferedProgress:s,bufferingHandlers:{onLoadedData:l,onPlaying:l,onLoadStart:l,onPause:l,onTimeUpdate:l,onProgress:l},checkBuffering(e){o(e.readyState>=3)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n(7);const c={B:a.ApiMessageEntityTypes.Bold,STRONG:a.ApiMessageEntityTypes.Bold,I:a.ApiMessageEntityTypes.Italic,EM:a.ApiMessageEntityTypes.Italic,U:a.ApiMessageEntityTypes.Underline,S:a.ApiMessageEntityTypes.Strike,STRIKE:a.ApiMessageEntityTypes.Strike,DEL:a.ApiMessageEntityTypes.Strike,CODE:a.ApiMessageEntityTypes.Code,PRE:a.ApiMessageEntityTypes.Pre,BLOCKQUOTE:a.ApiMessageEntityTypes.Blockquote};function s(e){const t=document.createElement("div");t.innerHTML=function(e){let t=e.slice(0);t=r.d?t.replace(/<span\s+class="font-emoji">([^<]*)<\/span>/g,"$1"):t.replace(/<img[^>]+alt="([^"]+)"[^>]*>/gm,"$1");return t=t.replace(/<\/?span([^>]*)?>/g,""),t=t.replace(/&nbsp;/g," "),t=t.replace(/<br([^>]*)?>/g,"\n"),t=t.replace(/<\/div>(\s*)<div>/g,"\n"),t=t.replace(/<div>/g,"\n"),t=t.replace(/<\/div>/g,""),t=t.replace(/^`{3}(.*[\n\r][^]*?^)`{3}/gm,"<pre>$1</pre>"),t=t.replace(/[`]{3}([^`]+)[`]{3}/g,"<pre>$1</pre>"),t=t.replace(/[`]{1}([^`\n]+)[`]{1}/g,"<code>$1</code>"),t=t.replace(/[*]{2}([^*\n]+)[*]{2}/g,"<b>$1</b>"),t=t.replace(/[*]{1}([^*\n]+)[*]{1}/g,"<i>$1</i>"),t=t.replace(/[~]{2}([^~\n]+)[~]{2}/g,"<s>$1</s>"),t}(e);const n=t.innerText.trim().replace(/\u200b+/g,"").slice(0,4096);let s=0,i=0;const o=[];function l(e){const{index:t,entity:r}=function(e,t,n){const r=function(e){if(c[e.nodeName])return c[e.nodeName];if("A"===e.nodeName){const t=e;return t.dataset.entityType===a.ApiMessageEntityTypes.MentionName?a.ApiMessageEntityTypes.MentionName:t.href.startsWith("mailto:")?a.ApiMessageEntityTypes.Email:t.href.startsWith("tel:")?a.ApiMessageEntityTypes.Phone:t.href!==t.textContent?a.ApiMessageEntityTypes.TextUrl:a.ApiMessageEntityTypes.Url}if("SPAN"===e.nodeName)return e.dataset.entityType;return}(e);if(!r||!e.textContent)return{index:n,entity:void 0};const s=t.indexOf(e.textContent,n),i=s>=0?s:n,o=t.substring(0,i).length,{length:l}=t.substring(i,i+e.textContent.length);let u,d;r===a.ApiMessageEntityTypes.TextUrl&&(u=e.href);r===a.ApiMessageEntityTypes.MentionName&&(d=Number(e.dataset.userId));return{index:i,entity:{type:r,offset:o,length:l,...u&&{url:u},...d&&{userId:d}}}}(e,n,s);r?(s=t,o.push(r)):e.textContent&&(s+=e.textContent.length),e.hasChildNodes()&&i<=3&&(i+=1,Array.from(e.childNodes).forEach(l))}return Array.from(t.childNodes).forEach(e=>{i=1,l(e)}),{text:n,entities:o.length?o:void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),r=n(32),c=n(8),s=n(44),i=n(41),o=n(31);n(210);var l=Object(a.h)(({isQuick:e,onFileSelect:t})=>{const[n,r,s]=Object(o.a)(),i=Object(c.a)("DropTarget",n&&"hovered");return a.a.createElement("div",{className:i,onDrop:t,onDragEnter:()=>{r()},onDragLeave:e=>{const{relatedTarget:t}=e;t&&e.stopPropagation(),s()}},a.a.createElement("div",{className:"target-content"},a.a.createElement("div",{className:"icon icon-"+(e?"photo":"document")}),a.a.createElement("div",{className:"title"},"Drop files here to send them"),a.a.createElement("div",{className:"description"},e?"in a quick way":"without compression")))});n(211);let u;!function(e){e.None="none",e.Document="document",e.QuickFile="quick_file"}(u||(u={}));t.b=Object(a.h)(({isOpen:e,withQuick:t,onHide:n,onFileSelect:o})=>{const u=Object(a.q)(null),d=Object(i.a)(t),{shouldRender:m,transitionClassNames:h}=Object(r.a)(e);Object(a.n)(()=>e?Object(s.a)(n):void 0,[e,n]);const b=Object(a.m)(e=>{const{dataTransfer:t}=e;t.files&&t.files.length>0&&(n(),o(Array.from(t.files),!1))},[o,n]),f=Object(a.m)(e=>{const{dataTransfer:t}=e;t.files&&t.files.length>0&&(n(),o(Array.from(t.files),!0))},[o,n]),p=Object(a.m)(e=>{e.stopPropagation();const{target:t,relatedTarget:a}=e;t.matches(".DropTarget, .DropArea")&&!a&&(u.current=window.setTimeout(()=>{n()},150))},[n]);if(!m)return;const O=Object(c.a)("DropArea",h);return a.a.createElement("div",{className:O,onDragLeave:p,onDragOver:()=>{u.current&&window.clearTimeout(u.current)},onDrop:n},a.a.createElement(l,{onFileSelect:b}),(t||d)&&a.a.createElement(l,{onFileSelect:f,isQuick:!0}))})},,function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(6),s=n(4),i=n(22),o=n(8),l=n(100),u=n(107);n(192);t.a=Object(a.h)(Object(r.h)((e,{chatOrUserId:t})=>{if(!t)return{};return{chat:t?Object(c.f)(e,t):void 0,user:Object(s.lb)(t)?Object(c.Fb)(e,t):void 0}})(({icon:e,title:t,isMinimized:n,canClose:r,onClick:c,clickArg:d,chat:m,user:h,className:b})=>{const f=Object(l.a)();let p,O;if(e&&t)p=a.a.createElement("div",{className:"item-icon"},a.a.createElement("i",{className:"icon-"+e})),O=t;else if(m||h){p=a.a.createElement(u.a,{chat:m,user:h,size:"small",isSavedMessages:h&&h.isSelf});const e=!m||h&&!h.isSelf?Object(s.Y)(h):Object(s.l)(f,m,h);O=e?Object(i.a)(e):void 0}const g=Object(o.a)("PickerSelectedItem",b,n&&"minimized",r&&"closeable");return a.a.createElement("div",{className:g,onClick:()=>c(d),title:n?O:void 0},p,!n&&a.a.createElement("div",{className:"item-name",dir:"auto"},O),r&&a.a.createElement("div",{className:"item-remove"},a.a.createElement("i",{className:"icon-close"})))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n(57),c=n(7);function s(e,t){c.e?Object(a.b)(()=>{!function(e,t){const{scrollLeft:n,offsetWidth:a,scrollWidth:c}=e;let s=t-n;if(s<0){const e=-n;s=Math.max(s,e)}else if(s>0){const e=c-(n+a);s=Math.min(s,e)}const i=e.scrollLeft+s,o=Date.now();Object(r.a)(()=>{const t=Math.min((Date.now()-o)/450,1),n=s*(1-function(e){return 1-(1-e)**3.5}(t));return e.scrollLeft=Math.round(i-n),t<1})}(e,t)}):e.scrollTo({left:t,behavior:"smooth"})}},function(e,t,n){"use strict";var a=n(0);t.a=(e,t)=>{Object(a.n)(()=>{const t=e.current;if(t)return t.addEventListener("wheel",n,{passive:!0}),()=>{t.removeEventListener("wheel",n)};function n(e){e.deltaX||(t.scrollLeft+=e.deltaY/4)}},[e,t])}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(9);t.a=(e,t,n,s)=>{const{loadMessage:i}=Object(r.d)(),o=Object(a.p)(()=>{const n=Object(c.g)(i,500,!0);return()=>{n({chatId:e,messageId:t,replyOriginForId:s})}},[i,e,t,s]);Object(a.n)(()=>{t&&!n&&o()})}},function(e,t,n){"use strict";var a=n(0),r=n(7);let c=0;t.a=(e,t,n)=>{const[s,i]=Object(a.r)(!1),[o,l]=Object(a.r)(void 0),u=Object(a.m)(e=>{t||2!==e.button||document.body.classList.add("no-selection")},[t]),d=Object(a.m)(e=>{document.body.classList.remove("no-selection"),t||n&&e.target.matches("a.text-entity-link[href]")||(e.preventDefault(),o||(document.body.classList.remove("no-selection"),0===c&&document.body.classList.add("has-context-menu"),c++,i(!0),l({x:e.clientX,y:e.clientY})))},[t,n,o]),m=Object(a.m)(()=>{i(!1)},[]),h=Object(a.m)(()=>{l(void 0),document.body.classList.remove("no-selection"),setTimeout(()=>{c--,0===c&&document.body.classList.remove("has-context-menu")},200)},[]);return Object(a.n)(()=>{if(t||!r.l)return;const n=e.current;if(!n)return;let a;const c=()=>{a&&(clearTimeout(a),a=void 0)},s=e=>{t||r.g&&window.document.body.classList.contains("enable-symbol-menu-transforms")||(c(),a=window.setTimeout(()=>(e=>{c();const{clientX:t,clientY:a}=e.touches[0];o||(n.addEventListener("touchend",(function e(t){n.removeEventListener("touchend",e,!0),t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()}),!0),document.body.classList.add("no-selection"),i(!0),l({x:t,y:a}))})(e),250))};return n.addEventListener("touchstart",s,{passive:!0}),n.addEventListener("touchcancel",c,!0),n.addEventListener("touchend",c,!0),n.addEventListener("touchmove",c,{passive:!0}),()=>{c(),n.removeEventListener("touchstart",s),n.removeEventListener("touchcancel",c,!0),n.removeEventListener("touchend",c,!0),n.removeEventListener("touchmove",c)}},[o,t,e]),{isContextMenuOpen:s,contextMenuPosition:o,handleBeforeContextMenu:u,handleContextMenu:d,handleContextMenuClose:m,handleContextMenuHide:h}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n(2),c=n(5),s=n(4),i=n(22),o=n(70),l=n(53);function u(e,t,n){const a=e.content.text;if(!a||!a.text){const t=Object(s.O)(e);return t?[t]:void 0}const{text:r,entities:c}=a;return m(r,c,t,n)}function d(e){const t=new Set,n=[];return e.forEach((a,r)=>{if(t.has(r))return;const c=function e(t,n,a,r){const{offset:c,length:s}=t,i=new Set([n]);if(r.has(n))return;const o=a.filter((e,t)=>t>n&&e.offset>=c&&e.offset<c+s).map(t=>e(t,a.indexOf(t),a,r)).filter(Boolean);return o.forEach(e=>e.organizedIndexes.forEach(e=>i.add(e))),{entity:t,organizedIndexes:i,nestedEntities:o}}(a,r,e,t);c&&(c.organizedIndexes.forEach(e=>{t.add(e)}),n.push(c))}),n}function m(e,t,n,r,s){if(!t||!t.length)return h(e,n,r,s);const u=[];let m=!1;const O=d(t);function g(t,u,d,O){const v=[],{entity:j,nestedEntities:E}=d,{offset:y,length:N,type:T}=j;let C=e.substring(t,y);const M=C.length;C&&(m&&C.length>0&&"\n"===C[0]&&(C=C.substr(1),m=!1),C&&v.push(...h(C,n,r,s)));const w=t+M,S=w+N;let L=e.substring(y,y+N);const I=[];if(m&&L.length>0&&"\n"===L[0]&&(L=L.substr(1),m=!1),T===c.ApiMessageEntityTypes.Pre&&(m=!0),E.length){let e=w;E.forEach((t,n)=>{const{renderResult:a,entityEndIndex:r}=g(e,S,t,n===E.length-1);I.push(...a),e=r})}const A=s?function(e,t,n){const a="string"==typeof t&&t,r=n.length?n.join(""):Object(i.a)(t,["emoji_html","br_html"]).join("");if(!a)return r;switch(e.type){case c.ApiMessageEntityTypes.Bold:return`<b>${r}</b>`;case c.ApiMessageEntityTypes.Italic:return`<i>${r}</i>`;case c.ApiMessageEntityTypes.Underline:return`<u>${r}</u>`;case c.ApiMessageEntityTypes.Code:return`<code class="text-entity-code">${r}</code>`;case c.ApiMessageEntityTypes.Pre:return`\`\`\`<br/>${r}<br/>\`\`\``;case c.ApiMessageEntityTypes.Strike:return`<del>${r}</del>`;case c.ApiMessageEntityTypes.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${c.ApiMessageEntityTypes.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${r}</a>`;case c.ApiMessageEntityTypes.Url:case c.ApiMessageEntityTypes.TextUrl:return`<a\n        class="text-entity-link"\n        href=${b(a,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${r}</a>`;default:return r}}(j,L,I):function(e,t,n){const r="string"==typeof t&&t,s=n.length?n:t;if(!r)return h(s);switch(e.type){case c.ApiMessageEntityTypes.Bold:return a.a.createElement("strong",null,h(s));case c.ApiMessageEntityTypes.Blockquote:return a.a.createElement("blockquote",null,h(s));case c.ApiMessageEntityTypes.BotCommand:return a.a.createElement("a",{onClick:f,className:"text-entity-link",dir:"auto"},h(s));case c.ApiMessageEntityTypes.Hashtag:case c.ApiMessageEntityTypes.Cashtag:return a.a.createElement("a",{onClick:p,className:"text-entity-link",dir:"auto"},h(s));case c.ApiMessageEntityTypes.Code:return a.a.createElement("code",{className:"text-entity-code"},h(s));case c.ApiMessageEntityTypes.Email:return a.a.createElement("a",{href:"mailto:"+r,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto"},h(s));case c.ApiMessageEntityTypes.Italic:return a.a.createElement("em",null,h(s));case c.ApiMessageEntityTypes.MentionName:return a.a.createElement(o.a,{userId:e.userId},h(s));case c.ApiMessageEntityTypes.Mention:return a.a.createElement(o.a,{username:r},h(s));case c.ApiMessageEntityTypes.Phone:return a.a.createElement("a",{href:"tel:"+r,className:"text-entity-link"},h(s));case c.ApiMessageEntityTypes.Pre:return a.a.createElement("pre",{className:"text-entity-pre"},h(s));case c.ApiMessageEntityTypes.Strike:return a.a.createElement("del",null,h(s));case c.ApiMessageEntityTypes.TextUrl:case c.ApiMessageEntityTypes.Url:return a.a.createElement(l.a,{url:b(r,e),text:r},h(s));case c.ApiMessageEntityTypes.Underline:return a.a.createElement("ins",null,h(s));default:return h(s)}}(j,L,I);if(Array.isArray(A)?v.push(...A):v.push(A),O&&S<u){let t=e.substring(S,u);m&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&v.push(...h(t,n,r,s))}return{renderResult:v,entityEndIndex:S}}let v=0;return O.forEach((t,n)=>{const{renderResult:a,entityEndIndex:r}=g(v,e.length,t,n===O.length-1);u.push(...a),v=r}),u}function h(e,t,n,a){if(Array.isArray(e)){const r=[];return e.forEach(e=>{r.push(...h(e,t,n,a))}),r}if(a)return Object(i.a)(e,["escape_html","emoji_html","br_html"]);const r=n?"hq_emoji":"emoji";return t?Object(i.a)(e,[r,"br","highlight"],{highlight:t}):Object(i.a)(e,[r,"br"])}function b(e,t){const{type:n,url:a}=t;return n===c.ApiMessageEntityTypes.TextUrl&&a?a:e}function f(e){Object(r.d)().sendBotCommand({command:e.currentTarget.innerText})}function p(e){Object(r.d)().setLocalTextSearchQuery({query:e.currentTarget.innerText}),Object(r.d)().searchTextMessagesLocal()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n(9);function c(e,t){Object(a.n)(()=>{const t=e.current;return()=>{t&&Object(r.b)(()=>{t.pause(),t.src="",t.load()})}},t)}},,,function(e,t,n){},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(1);const r=navigator.clipboard&&window.ClipboardItem,c=document.createElement("textarea");c.setAttribute("readonly",""),c.tabIndex=-1,c.className="visually-hidden";const s=e=>{c.value=e,document.body.appendChild(c);const t=document.getSelection();if(t){const e=t.rangeCount>0&&t.getRangeAt(0);c.select(),document.execCommand("copy"),e&&(t.removeAllRanges(),t.addRange(e))}document.body.removeChild(c)},i=e=>{const t=document.createElement("canvas"),n=t.getContext("2d"),a=new Image;a.onload=e=>{if(n&&e.currentTarget){const a=e.currentTarget;t.width=a.width,t.height=a.height,n.drawImage(a,0,0,a.width,a.height),t.toBlob(o,"image/png",1)}},a.src=e};async function o(e){if(e&&r)try{await navigator.clipboard.write([new window.ClipboardItem({[e.type]:e})])}catch(e){a.p&&console.error(e)}}},function(e,t,n){"use strict";var a=n(0),r=n(8),c=n(31),s=n(100),i=n(15),o=n(29);n(190);t.a=Object(a.h)(({ref:e,children:t,value:n,inputId:l,className:u,focused:d,isLoading:m,placeholder:h,disabled:b,canClose:f,onChange:p,onReset:O,onFocus:g,onBlur:v})=>{let j=Object(a.q)(null);e&&(j=e);const[E,y,N]=Object(c.a)(d);Object(a.n)(()=>{j.current&&(d?j.current.focus():j.current.blur())},[d,h]);const T=Object(s.a)();return a.a.createElement("div",{className:Object(r.a)("SearchInput",u,E&&"has-focus")},t,a.a.createElement("input",{ref:j,id:l,type:"text",dir:"auto",placeholder:h||T("Search"),className:"form-control",value:n,disabled:b,onChange:function(e){const{currentTarget:t}=e;p(t.value)},onFocus:function(){y(),g&&g()},onBlur:function(){N(),v&&v()}}),a.a.createElement("i",{className:"icon-search"}),m&&a.a.createElement(i.a,null),!m&&(n||f)&&O&&a.a.createElement(o.a,{round:!0,size:"tiny",color:"translucent",onClick:O},a.a.createElement("span",{className:"icon-close"})))})},function(e,t,n){"use strict";var a=n(7);t.a=(e,t)=>{a.e&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),a.e&&(e.style.overflow="")}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(6),s=n(4),i=n(22);n(200);t.a=Object(a.h)(Object(r.h)((e,{typingStatus:t})=>{if(!t.userId)return{};return{typingUser:Object(c.Fb)(e,t.userId)}})(({typingStatus:e,typingUser:t})=>{const n=t&&!t.isSelf&&Object(s.Y)(t);return a.a.createElement("p",{className:"typing-status"},n&&a.a.createElement("span",{className:"sender-name",dir:"auto"},Object(i.a)(n)),e.action,a.a.createElement("span",{className:"ellipsis"}))}))},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(6),s=n(4),i=n(3),o=n(100),l=n(22),u=n(107),d=n(105),m=n(29);n(203);t.a=Object(a.h)(Object(r.h)((e,{chat:t})=>{const n=Object(s.lb)(t.id),a=Object(c.O)(e,t.id),r=n&&!a,i=t&&Object(s.lb)(t.id)?Object(s.Y)(Object(c.Fb)(e,Object(s.U)(t))):void 0;return{isPrivateChat:n,isChatWithSelf:a,isChannel:Object(s.jb)(t),isBasicGroup:Object(s.ib)(t),isSuperGroup:Object(s.nb)(t),canDeleteForAll:r,contactName:i}},(e,t)=>Object(i.l)(t,["leaveChannel","deleteHistory","deleteChannel"]))(({isOpen:e,chat:t,isChannel:n,isPrivateChat:r,isChatWithSelf:c,isBasicGroup:i,isSuperGroup:h,canDeleteForAll:b,contactName:f,onClose:p,leaveChannel:O,deleteHistory:g,deleteChannel:v})=>{const j=Object(o.a)(),E=Object(s.l)(j,t),y=Object(a.m)(()=>{g({chatId:t.id,maxId:t.lastMessage.id,shouldDeleteForAll:!0}),p()},[g,t.id,t.lastMessage,p]),N=Object(a.m)(()=>{r||i?g({chatId:t.id,maxId:t.lastMessage.id,shouldDeleteForAll:!1}):!n&&!h||t.isCreator?(n||h)&&t.isCreator&&v({chatId:t.id}):O({chatId:t.id}),p()},[r,i,n,h,t.isCreator,t.lastMessage,t.id,p,g,O,v]);return a.a.createElement(d.a,{isOpen:e,onClose:p,className:"DeleteChatModal",header:a.a.createElement("div",{className:"modal-header"},a.a.createElement(u.a,{size:"tiny",chat:t,isSavedMessages:c}),a.a.createElement("h3",{className:"modal-title"},j(n&&!t.isCreator?"LeaveChannel":n&&t.isCreator?"ChannelDelete":i||h?"Group.LeaveGroup":"DeleteChatUser")))},n&&t.isCreator?a.a.createElement("p",null,Object(l.a)(j("ChatList.DeleteAndLeaveGroupConfirmation",E),["simple_markdown"])):n&&!t.isCreator||i||h?a.a.createElement("p",null,Object(l.a)(j("ChannelLeaveAlertWithName",E),["simple_markdown"])):a.a.createElement("p",null,Object(l.a)(j("ChatList.DeleteChatConfirmation",f),["simple_markdown"])),b&&a.a.createElement(m.a,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:y},f?j("ChatList.DeleteForEveryone",f):j("DeleteForAll")),a.a.createElement(m.a,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:N},j(n&&!t.isCreator?"LeaveChannel":n&&t.isCreator?"Chat.Input.Delete":i||h?"Group.LeaveGroup":b?"ChatList.DeleteForCurrentUser":"Delete")),a.a.createElement(m.a,{className:"confirm-dialog-button",isText:!0,onClick:p},j("Cancel")))}))},function(e,t,n){"use strict";function a(e){e.dataset.patchedForSafari||(e.addEventListener("play",()=>{const t=e.currentTime;e.addEventListener("progress",(function n(){e.buffered.length&&(e.dataset.patchForSafariInProgress="true",e.currentTime=e.duration-1,e.addEventListener("progress",()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&e.play()},{once:!0}),e.removeEventListener("progress",n))}))},{once:!0}),e.dataset.patchedForSafari="true")}function r(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var a=n(0),r=n(41);t.a=(e,t)=>{const n=Object(r.a)(t);return Object(a.o)(()=>{e(n||[])},t)}},function(e,t,n){"use strict";var a=n(0),r=n(55),c=n(4),s=n(102),i=n(116),o=n(103),l=n(174),u=n(175);t.a=Object(a.h)(({message:e,observeIntersection:t,smaller:n,uploadProgress:d,withDate:m,datetime:h,className:b,sender:f,isSelected:p,isSelectable:O,onCancelUpload:g,onDateClick:v})=>{const j=Object(a.q)(null),E=e.content.document,y=Object(r.b)(E)||"",{fileName:N,size:T,timestamp:C}=E,M=Object(s.b)(j,t),[w,S]=Object(a.r)(!1),{mediaData:L,downloadProgress:I}=Object(i.a)(Object(c.D)(e,"download"),!w),{isUploading:A,isTransferring:k,transferProgress:x}=Object(c.s)(e,d||I,w),D=Object(r.c)(E),_=D?Object(c.E)(e):void 0,R=D?E.previewBlobUrl:void 0,F=Object(o.a)(Object(c.D)(e,"pictogram"),!M),P=Object(a.m)(()=>{A?g&&g():S(e=>!e)},[A,g]),U=Object(a.m)(()=>{v(e.id,e.chatId)},[v,e.id,e.chatId]);return Object(a.n)(()=>{w&&L&&(Object(l.a)(L,N),S(!1))},[N,L,w]),a.a.createElement(u.a,{ref:j,name:N,extension:y,size:T,timestamp:m?h||C:void 0,thumbnailDataUri:_,previewData:R||F,smaller:n,isTransferring:k,isUploading:A,transferProgress:x,className:b,sender:f,isSelectable:O,isSelected:p,onClick:P,onDateClick:v?U:void 0})})},function(e,t,n){"use strict";var a=n(0),r=n(11),c=n(16);t.a=Object(a.h)(e=>{const{isOpen:t}=e,n=Object(c.a)(r.a.Extra,"StickerSetModal",!t);return n?a.a.createElement(n,e):void 0})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(159),c=n(35),s=n(7);function i(e,t=!1,n){const i=Object(a.q)(null),o=Object(c.a)();return Object(a.n)(()=>{const a=i.current;if(!e||!a||t)return;const c=new Image,o=()=>{a.width=c.width,a.height=c.height;const e=a.getContext("2d",{alpha:!1});s.c&&(e.filter="blur(2px)"),e.drawImage(c,-4,-4,a.width+8,a.height+8),s.c||Object(r.a)(e,0,0,a.width,a.height,2,2)};c.onload=()=>{n?requestAnimationFrame(o):o()},c.src=e},[i,e,o,t,n]),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));const a=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],r=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];function c(e,t,n,c,s,i,o){if(Number.isNaN(i)||i<1)return;i|=0,Number.isNaN(o)&&(o=1),(o|=0)>3&&(o=3),o<1&&(o=1);const l=e.getImageData(t,n,c,s),u=l.data;let d,m,h,b,f,p,O,g,v,j,E,y,N=c-1,T=s-1,C=i+1,M=[],w=[],S=[],L=a[i],I=r[i],A=[],k=[];for(;o-- >0;){for(y=E=0,f=0;f<s;f++){for(d=u[y]*C,m=u[y+1]*C,h=u[y+2]*C,p=1;p<=i;p++)O=y+((p>N?N:p)<<2),d+=u[O++],m+=u[O++],h+=u[O++];for(b=0;b<c;b++)M[E]=d,w[E]=m,S[E]=h,0==f&&(A[b]=((O=b+C)<N?O:N)<<2,k[b]=(O=b-i)>0?O<<2:0),g=y+A[b],v=y+k[b],d+=u[g++]-u[v++],m+=u[g++]-u[v++],h+=u[g++]-u[v++],E++;y+=c<<2}for(b=0;b<c;b++){for(j=b,d=M[j]*C,m=w[j]*C,h=S[j]*C,p=1;p<=i;p++)j+=p>T?0:c,d+=M[j],m+=w[j],h+=S[j];for(E=b<<2,f=0;f<s;f++)u[E]=d*L>>>I,u[E+1]=m*L>>>I,u[E+2]=h*L>>>I,0==b&&(A[f]=((O=f+C)<T?O:T)*c,k[f]=(O=f-i)>0?O*c:0),g=b+A[f],v=b+k[f],d+=M[g]-M[v],m+=w[g]-w[v],h+=S[g]-S[v],E+=c<<2}}e.putImageData(l,t,n)}},function(e,t,n){"use strict";var a=n(0),r=n(1),c=n(8),s=n(44),i=n(32),o=n(73),l=n(31),u=n(100),d=n(29);n(235);const m={B:"bold",STRONG:"bold",I:"italic",EM:"italic",U:"underline",DEL:"strikethrough",CODE:"monospace"};t.a=Object(a.h)(({isOpen:e,anchorPosition:t,selectedRange:n,onClose:h})=>{const b=Object(a.q)(null),f=Object(a.q)(null),{shouldRender:p,transitionClassNames:O}=Object(i.a)(e),[g,v,j]=Object(l.a)(),[E,y]=Object(a.r)(""),[N,T]=Object(a.r)(!1),[C,M]=Object(a.r)(),[w,S]=Object(a.r)({});Object(a.n)(()=>e?Object(s.a)(h):void 0,[e,h]),Object(o.a)(e,b,h),Object(a.n)(()=>{g?f.current.focus():(y(""),T(!1))},[g]),Object(a.n)(()=>{p||(j(),S({}),M(void 0))},[j,p]),Object(a.n)(()=>{if(!e||!n)return;const t={};let{parentElement:a}=n.commonAncestorContainer;for(;a&&a.id!==r.v;){const e=m[a.tagName];e&&(t[e]=!0),a=a.parentElement}S(t)},[e,n,v]);const L=Object(a.m)(()=>{if(n)return n.toString()},[n]),I=Object(a.m)(()=>{if(n)return n.commonAncestorContainer.parentElement},[n]);function A(){const e=f.current;if(!e)return;const{offsetWidth:t,scrollWidth:n,scrollLeft:a}=e;if(n<=t)return void M(void 0);let r="";a<n-t&&(r="mask-right"),a>0&&(r+=" mask-left"),M(r)}function k(e){if(w[e])return"active";if("monospace"===e||"strikethrough"===e){if(Object.keys(w).some(t=>t!==e&&!!w[t]))return"disabled"}else if(w.monospace||w.strikethrough)return"disabled"}const x=Object(a.m)(()=>{S(e=>(document.execCommand(e.bold?"removeFormat":"bold"),Object.keys(e).forEach(t=>{"italic"!==t&&"underline"!==t||!e[t]||document.execCommand(t)}),{...e,bold:!e.bold}))},[]),D=Object(a.m)(()=>{document.execCommand("italic"),S(e=>({...e,italic:!e.italic}))},[]),_=Object(a.m)(()=>{document.execCommand("underline"),S(e=>({...e,underline:!e.underline}))},[]),R=Object(a.m)(()=>{if(w.strikethrough){const e=I();if(!n||!e||"DEL"!==e.tagName||!e.textContent)return;return e.replaceWith(e.textContent),void S(e=>({...e,strikethrough:!1}))}const e=L();document.execCommand("insertHTML",!1,`<del>${e}</del>`),h()},[I,L,h,n,w.strikethrough]),F=Object(a.m)(()=>{if(w.monospace){const e=I();if(!n||!e||"CODE"!==e.tagName||!e.textContent)return;return e.replaceWith(e.textContent),void S(e=>({...e,monospace:!1}))}const e=L();document.execCommand("insertHTML",!1,`<code class="text-entity-code" dir="auto">${e}</code>`),h()},[I,L,h,n,w.monospace]);function P(){const e=E.includes("://")?E:"http://"+E;if(N){const t=I();if(!t||"A"!==t.tagName)return;return t.href=e,void h()}const t=L();!function(){if(!n)return;const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(n))}(),document.execCommand("insertHTML",!1,`<a href=${e} class="text-entity-link" dir="auto">${t}</a>`),h()}const U=Object(a.m)(e=>{const t={KeyK:v,KeyB:x,KeyU:_,KeyI:D,KeyM:F,KeyS:R}[e.code];!e.altKey&&(e.ctrlKey||e.metaKey)&&t&&(e.preventDefault(),e.stopPropagation(),t())},[x,D,_,F,R,v]);Object(a.n)(()=>(e&&document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)),[e,U]);const B=Object(u.a)();if(!p)return;const q=Object(c.a)("TextFormatter",O,g&&"link-control-shown"),H=Object(c.a)("TextFormatter-link-url-confirm",!!E.length&&"shown"),$=t?`left: ${t.x}px; top: ${t.y}px;--text-formatter-left: ${t.x}px;`:"";return a.a.createElement("div",{ref:b,className:q,style:$,onKeyDown:function(e){"Enter"===e.key&&g&&(P(),e.preventDefault())}},a.a.createElement("div",{className:"TextFormatter-buttons"},a.a.createElement(d.a,{color:"translucent",ariaLabel:"Bold text",className:k("bold"),onClick:x},a.a.createElement("i",{className:"icon-bold"})),a.a.createElement(d.a,{color:"translucent",ariaLabel:"Italic text",className:k("italic"),onClick:D},a.a.createElement("i",{className:"icon-italic"})),a.a.createElement(d.a,{color:"translucent",ariaLabel:"Underlined text",className:k("underline"),onClick:_},a.a.createElement("i",{className:"icon-underlined"})),a.a.createElement(d.a,{color:"translucent",ariaLabel:"Strikethrough text",className:k("strikethrough"),onClick:R},a.a.createElement("i",{className:"icon-strikethrough"})),a.a.createElement(d.a,{color:"translucent",ariaLabel:"Monospace text",className:k("monospace"),onClick:F},a.a.createElement("i",{className:"icon-monospace"})),a.a.createElement("div",{className:"TextFormatter-divider"}),a.a.createElement(d.a,{color:"translucent",ariaLabel:B("TextFormat.AddLinkTitle"),onClick:v},a.a.createElement("i",{className:"icon-link"}))),a.a.createElement("div",{className:"TextFormatter-link-control"},a.a.createElement("div",{className:"TextFormatter-buttons"},a.a.createElement(d.a,{color:"translucent",ariaLabel:B("Cancel"),onClick:j},a.a.createElement("i",{className:"icon-arrow-left"})),a.a.createElement("div",{className:"TextFormatter-divider"}),a.a.createElement("div",{className:Object(c.a)("TextFormatter-link-url-input-wrapper",C)},a.a.createElement("input",{ref:f,className:"TextFormatter-link-url-input",type:"text",value:E,placeholder:"Enter URL...",autoComplete:"off",inputMode:"url",dir:"auto",onChange:function(e){y(e.target.value),A()},onScroll:A})),a.a.createElement("div",{className:H},a.a.createElement("div",{className:"TextFormatter-divider"}),a.a.createElement(d.a,{color:"translucent",ariaLabel:B("Save"),className:"color-primary",onClick:P},a.a.createElement("i",{className:"icon-check"}))))))})},function(e,t,n){"use strict";var a=n(0),r=n(33),c=n(4),s=n(103),i=n(110);n(243);t.a=Object(a.h)(({message:e,idPrefix:t="shared-media",onClick:n})=>{const o=Object(a.m)(()=>{n(e.id,e.chatId)},[e.id,e.chatId,n]),l=Object(c.E)(e),u=Object(s.a)(Object(c.D)(e,"pictogram")),{shouldRenderThumb:d,shouldRenderFullMedia:m,transitionClassNames:h}=Object(i.a)(u,"slow"),b=Object(c.P)(e);return a.a.createElement("div",{id:`${t}${e.id}`,className:"Media scroll-item",onClick:n?o:void 0},d&&a.a.createElement("img",{src:l,alt:""}),m&&a.a.createElement("img",{src:u,className:h+" full-media",alt:""}),b&&a.a.createElement("span",{className:"video-duration"},b.isGif?"GIF":Object(r.e)(b.duration)))})},,function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(7),s=n(33),i=n(4);var o=n(8),l=n(22);var u=n(116),d=n(32),m=n(133),h=n(172),b=n(100),f=n(29),p=n(117),O=n(24);n(217);const g=c.g?20:25,v=c.g?50:75;function j(e,t,{handleStartSeek:n,handleSeek:r,handleStopSeek:c}){return a.a.createElement("div",{className:"seekline no-selection",onMouseDown:n,onMouseMove:r,onMouseUp:c},a.a.createElement("span",{className:"seekline-buffered-progress"},a.a.createElement("i",{style:`transform: translateX(${100*t}%)`})),a.a.createElement("span",{className:"seekline-play-progress"},a.a.createElement("i",{style:`transform: translateX(${100*e}%)`})),a.a.createElement("span",{className:"seekline-thumb"},a.a.createElement("i",{style:`transform: translateX(${100*e}%)`})))}t.a=Object(a.h)(Object(r.h)(e=>({theme:e.settings.byKey.theme}))(({theme:e,message:t,senderTitle:n,uploadProgress:r,renderingFor:E,date:y,lastSyncTime:N,className:T,isSelectable:C,isSelected:M,onPlay:w,onReadMedia:S,onCancelUpload:L,onDateClick:I})=>{const{content:{audio:A,voice:k},isMediaUnread:x}=t,D=Boolean(k),_=Object(a.q)(!1),[R,F]=Object(a.r)(!1),P=N,{mediaData:U,downloadProgress:B}=Object(u.a)(Object(i.D)(t,"inline"),!P,Object(i.C)(t,"inline"));const{isBuffered:q,bufferedProgress:H,bufferingHandlers:$,checkBuffering:Y}=Object(m.a)(),{isPlaying:V,playProgress:K,playPause:z,setCurrentTime:W,duration:G}=Object(h.a)(Object(i.A)(t),Object(i.r)(t),U,$,Y,R,(function(){F(!0),w(t.id,t.chatId)}),Object(i.sb)(t));Object(a.n)(()=>{F(V)},[V]);const{isUploading:X,isTransferring:Q,transferProgress:J}=Object(i.s)(t,r||B,R&&!q),{shouldRender:Z,transitionClassNames:ee}=Object(d.a)(Q),te=Object(a.m)(()=>{X?L&&L():(V||w(t.id,t.chatId),F(!R),z())},[V,X,t.id,t.chatId,L,w,z,R]);Object(a.n)(()=>{V&&S&&x&&S()},[V,x,S]);const ne=Object(a.m)(e=>{if(_.current){const t=e.currentTarget.closest(".seekline,.waveform");if(t){const{width:n,left:a}=t.getBoundingClientRect();W(G*((e.clientX-a)/n))}}},[G,W]),ae=Object(a.m)(e=>{_.current=!0,ne(e)},[ne]),re=Object(a.m)(()=>{_.current=!1},[]),ce=Object(a.m)(()=>{I(t.id,t.chatId)},[I,t.id,t.chatId]),se=Object(b.a)();const ie={handleStartSeek:ae,handleSeek:ne,handleStopSeek:re},oe=Object(i.tb)(t),le=Object(a.p)(()=>k&&function(e,t=0,n=!1,{handleStartSeek:r,handleSeek:c,handleStopSeek:s},i){const{waveform:o,duration:l}=e;if(!o)return;const u="dark"===i?"#494B75":"#CBCBCB",d="dark"===i?"#C69C85":"#B0DEA6",m="dark"===i?"#868DF5":"#54a3e6",h="dark"===i?"#FFFFFF":"#53ad53",b=Math.min(l/30,1),f=Math.round(g+(v-g)*b),p=function(e){const t=8*e.length,n=Math.floor(t/5);if(!n)return[];const a=Array(n),r=e;for(let e=0,t=n-1;e!==t;++e){const t=Math.floor(5*e/8),n=Math.floor(5*e%8),c=r[t]+(r[t+1]<<8);a[e]=c>>n&31}const c=Math.floor(5*(n-1)/8),s=Math.floor(5*(n-1)%8),i=r[c]+(r[c+1]<<8);return a[n-1]=i>>s&31,a}(new Uint8Array(o)),{data:O,peak:j}=function(e,t){let n=0;const a=new Array(t),r=e.length/t,c=e[0],s=e[e.length-1];for(let u=0;u<t;u++){var i,o,l;const t=Math.floor(u*r),d=((null!==(i=e[t-1])&&void 0!==i?i:c)+(null!==(o=e[t])&&void 0!==o?o:c)+(null!==(l=e[t+1])&&void 0!==l?l:s))/3;a[u]=d,n<d&&(n=d)}return{data:a,peak:n}}(p,f),{src:E,width:y,height:N}=function(e,t,{peak:n,fillStyle:a,progressFillStyle:r}){const c=4*e.length,s=document.createElement("canvas");s.width=2*c,s.height=46,s.style.width=c+"px",s.style.height="23px";const i=s.getContext("2d");return i.scale(2,2),e.forEach((c,s)=>{i.globalAlpha=s/e.length>=t?.5:1,i.fillStyle=t>s/e.length?r:a;const o=Math.max(2,c/Math.max(1,n)*23);!function(e,t,n,a,r,c){a<2*c&&(c=a/2);r<2*c&&(c=r/2);e.beginPath(),e.moveTo(t+c,n),e.arcTo(t+a,n,t+a,n-r,c),e.arcTo(t+a,n-r,t,n-r,c),e.arcTo(t,n-r,t,n,c),e.arcTo(t,n,t+a,n,c),e.closePath()}(i,4*s,23,2,o,1),i.fill()}),{src:s.toDataURL(),width:c,height:23}}(O,t,{peak:j,fillStyle:n?d:u,progressFillStyle:n?h:m});return a.a.createElement("img",{src:E,alt:"",width:y,height:N,className:"waveform",draggable:!1,onMouseDown:r,onMouseMove:c,onMouseUp:s})}(k,K,oe,ie,e),[k,K,oe,ie,e]),ue=Object(o.a)("Audio media-inner",T,oe&&!E&&"own",E&&"bigger",M&&"audio-is-selected"),de=["toggle-play"];Z?de.push("loading"):V?de.push("pause"):V||de.push("play");const me=V||K>0&&K<1,he=Object(o.a)("content",me&&"with-seekline");return a.a.createElement("div",{className:ue},C&&a.a.createElement("div",{className:"message-select-control"},M&&a.a.createElement("i",{className:"icon-select"})),a.a.createElement(f.a,{round:!0,ripple:!c.g,size:E?"smaller":"tiny",className:de.join(" "),ariaLabel:V?"Pause audio":"Play audio",onClick:te},a.a.createElement("i",{className:"icon-play"}),a.a.createElement("i",{className:"icon-pause"})),Z&&a.a.createElement("div",{className:Object(o.a)("media-loading",ee)},a.a.createElement(p.a,{progress:J,transparent:!0,size:E?"m":"s",onClick:te})),"searchResult"===E&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:he},a.a.createElement("div",{className:"content-row"},a.a.createElement("p",{className:"title",dir:"auto"},Object(l.a)(function(){if(D)return n||"Voice";const{title:e,fileName:t}=A;return e||t}())),a.a.createElement("div",{className:"message-date"},y&&a.a.createElement(O.a,{className:"date",onClick:ce},Object(s.g)(se,1e3*y)))),me&&j(K,H,ie),!me&&a.a.createElement("p",{className:"duration",dir:"auto"},K>0?Object(s.e)(G*K)+" / ":void 0,function(){if(D)return Object(s.e)(k.duration);const{performer:e}=A;return a.a.createElement(a.a.Fragment,null,e&&Object(l.a)(e),e&&n&&a.a.createElement("span",null,"•"),n&&Object(l.a)(n))}()))),"searchResult"!==E&&A&&function(e,t,n,r,c,i,o,u){const{title:d,performer:m,duration:h,fileName:b}=t,f=n||r>0&&r<1;return a.a.createElement("div",{className:"content"},a.a.createElement("p",{className:"title",dir:"auto"},Object(l.a)(d||b)),f&&j(r,c,i),!f&&a.a.createElement("div",{className:"meta",dir:"auto"},a.a.createElement("span",{className:"performer"},Object(l.a)(m||"Unknown")),o&&a.a.createElement(a.a.Fragment,null," ","•"," ",a.a.createElement(O.a,{className:"date",onClick:u},Object(s.d)(e,1e3*o)))),a.a.createElement("p",{className:"duration",dir:"auto"},r>0?Object(s.e)(h*r)+" / ":void 0,Object(s.e)(h)))}(se,A,V,K,H,ie,y,I?ce:void 0),"searchResult"!==E&&k&&function(e,t,n){return a.a.createElement("div",{className:"content"},t,a.a.createElement("p",{className:"voice-duration",dir:"auto"},Object(s.e)(e.duration),n&&a.a.createElement("span",null,"•")))}(k,le,x))}))},function(e,t,n){"use strict";var a=n(0),r=n(138),c=n(41),s=n(139),i=n(100),o=n(8);n(196);var l=Object(a.h)(({className:e,title:t,active:n,badgeCount:r,isBadgeActive:c,previousActiveTab:s,onClick:i,clickArg:l})=>{const u=Object(a.q)(null);return Object(a.o)(()=>{if(!n||void 0===s)return;const e=u.current,t=e.querySelector("i"),a=e.parentElement.children[s].querySelector("i");a.classList.remove("animate"),t.classList.remove("animate");const r=a.parentElement.offsetLeft-t.parentElement.offsetLeft,c=a.clientWidth/t.clientWidth;t.style.transform=`translate3d(${r}px, 0, 0) scale3d(${c}, 1, 1)`,requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.classList.add("animate"),t.style.transform="none"})})})},[n,s]),a.a.createElement("button",{type:"button",className:Object(o.a)("Tab",e,n&&"active"),onClick:()=>i(l),ref:u},a.a.createElement("span",null,t,!!r&&a.a.createElement("span",{className:Object(o.a)("badge",c&&"active")},r),a.a.createElement("i",null)))});n(197);t.a=Object(a.h)(({tabs:e,activeTab:t,big:n,onSwitchTab:o})=>{const u=Object(a.q)(null),d=Object(c.a)(t);Object(s.a)(u),Object(a.n)(()=>{const e=u.current;if(e.scrollWidth<=e.offsetWidth)return;const t=e.querySelector(".Tab.active");if(t){const n=t.offsetLeft-e.offsetWidth/2+t.offsetWidth/2;if(Math.abs(n-e.scrollLeft)<16)return;Object(r.a)(e,n)}},[t]);const m=Object(i.a)();return a.a.createElement("div",{className:"TabList no-selection no-scrollbar "+(n?"big":""),ref:u},e.map((e,n)=>a.a.createElement(l,{key:e.title,title:m(e.title),active:n===t,badgeCount:e.badgeCount,isBadgeActive:e.isBadgeActive,previousActiveTab:d,onClick:o,clickArg:n})))})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const a={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_WRITE_FORBIDDEN:"You can't write in this chat",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_INVALID:"Media invalid",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",CHAT_ADMIN_REQUIRED:"You must be an admin in this chat to do this",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",DIALOG_FILTERS_TOO_MUCH:"Sorry, you can't have more than 10 folders",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Please reload the page without holding <Shift> key.",CAPTION_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided caption is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You can’t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group"};function r(e){const{message:t,isSlowMode:n,textParams:r}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let c=a[t];return c&&r&&(c=Object.keys(r).reduce((e,t)=>e.replace(t,r[t]),c)),c}},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(4),s=n(100);t.a=({chat:e,privateChatUser:t,handleDelete:n,folderId:i,isPinned:o})=>{const l=Object(s.a)(),{toggleChatPinned:u,updateChatMutedState:d,toggleChatArchived:m,toggleChatUnread:h}=Object(r.d)();return Object(a.p)(()=>{if(!e)return;const a=t&&t.isSelf,r=e.unreadCount||e.hasUnreadMark?{title:l("MarkAsRead"),icon:"readchats",handler:()=>h({id:e.id})}:{title:l("MarkAsUnread"),icon:"unread",handler:()=>h({id:e.id})},s=o?{title:l("UnpinFromTop"),icon:"unpin",handler:()=>u({id:e.id,folderId:i})}:{title:l("PinToTop"),icon:"pin",handler:()=>u({id:e.id,folderId:i})},b=e.isMuted?{title:l("ChatList.Unmute"),icon:"unmute",handler:()=>d({chatId:e.id,isMuted:!1})}:{title:l("ChatList.Mute"),icon:"mute",handler:()=>d({chatId:e.id,isMuted:!0})},f=Object(c.hb)(e)?{title:l("Unarchive"),icon:"unarchive",handler:()=>m({id:e.id})}:{title:l("Archive"),icon:"archive",handler:()=>m({id:e.id})};return[r,s,...a?[]:[b,f],{title:Object(c.lb)(e.id)?l("Delete"):l(Object(c.d)(e)?"DeleteChat":Object(c.jb)(e)?"LeaveChannel":"Group.LeaveGroup"),icon:"delete",destructive:!0,handler:n}]},[e,t,l,o,n,h,u,i,d,m])}},function(e,t,n){"use strict";var a=n(0),r=n(33),c=n(100),s=n(168);n(202);t.a=Object(a.h)(({message:e,outgoingStatus:t})=>{const n=Object(c.a)();return a.a.createElement("div",{className:"LastMessageMeta"},t&&a.a.createElement(s.a,{status:t}),a.a.createElement("span",{className:"time"},Object(r.g)(n,1e3*e.date)))})},function(e,t,n){"use strict";var a,r=n(0),c=n(106);n(201);!function(e){e[e.failed=0]="failed",e[e.pending=1]="pending",e[e.succeeded=2]="succeeded",e[e.read=3]="read"}(a||(a={}));t.a=Object(r.h)(({status:e})=>r.a.createElement("div",{className:"MessageOutgoingStatus"},r.a.createElement(c.a,{name:"reveal",activeKey:a[e]},()=>r.a.createElement("i",{className:"icon-message-"+e}))))},function(e,t,n){"use strict";var a=n(0);t.a=(e,t,n,r,c=0,s=0)=>{const[i,o]=Object(a.r)("right"),[l,u]=Object(a.r)("bottom"),[d,m]=Object(a.r)("");return Object(a.n)(()=>{const a=t();if(!e||!a)return;let{x:i,y:l}=e;const d={width:0,left:0,height:0,top:0},h=r(),b=n(),f=a.getBoundingClientRect(),p=h?{width:h.offsetWidth,height:h.offsetHeight}:d,O=b?b.getBoundingClientRect():d;i+p.width+c<O.width+O.left?(o("left"),i+=3):i-p.width>0?(o("right"),i-=3):(o("left"),i=16),l+p.height<O.height+O.top?u("top"):(u("bottom"),l-p.height<O.top+s&&(l=O.top+s+p.height)),m(`left: ${i-f.left}px; top: ${l-f.top}px;`)},[e,c,s,r,n,t]),{positionX:i,positionY:l,style:d}}},function(e,t,n){"use strict";var a=n(0),r=n(32),c=n(41),s=n(8);t.a=({isOpen:e,isCustom:t,id:n,className:i,onClick:o,children:l})=>{const{shouldRender:u,transitionClassNames:d}=Object(r.a)(e,void 0,void 0,!t&&void 0),m=Object(c.a)(e),h=Object(c.a)(l),b=Object(a.q)();return m&&!e&&(b.current=h),u&&a.a.createElement("div",{id:n,className:Object(s.a)(i,d),onClick:o},e?l():b.current())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(41),c=n(35),s=n(109);function i(e,t){const n=Object(r.a)(e,!0),i=Object(a.q)(),o=Object(c.a)(),l=null!=e,u=null!=n;return l&&i.current&&(clearTimeout(i.current),i.current=void 0),Object(s.a)(()=>{t&&!l&&u&&!i.current&&(i.current=window.setTimeout(()=>{i.current=void 0,o()},t))},[e]),i.current&&t&&!l?n:e}},function(e,t,n){"use strict";var a=n(0),r=n(173),c=n(54),s=n(154),i=n(109);t.a=(e,t,n,o,l,u=!1,d,m=!1)=>{const h=Object(a.q)(null),[b,f]=Object(a.r)(!1);let p=b;const[O,g]=Object(a.r)(0);Object(i.a)(()=>{h.current=Object(r.a)(e,(e,n)=>{switch(e){case"onPlay":f(!0);break;case"onPause":f(!1);break;case"onTimeUpdate":{const{proxy:e}=h.current,n=e.duration&&Number.isFinite(e.duration)?e.duration:t;g(e.currentTime/n);break}}o&&o[e]&&o[e](n)},d);const{proxy:n}=h.current;b||n.paused||(f(!0),p=!0),l&&l(n)},[e]);const{play:v,pause:j,setCurrentTime:E,proxy:y,destroy:N}=h.current,T=y.duration&&Number.isFinite(y.duration)?y.duration:t;Object(a.n)(()=>{T&&!Object(s.a)(y)&&g(y.currentTime/T)},[T,O,y]),Object(a.n)(()=>()=>{N(m)},[N,m]),Object(c.a)(([e,t])=>{e===u&&n===t||y.src&&y.paused||u&&n&&!b&&v(n)},[u,n,b,v,y.src,y.paused]);const C=Object(a.m)(()=>{b?j():n&&v(n)},[n,j,v,b]);return{isPlaying:p,playProgress:O,playPause:C,setCurrentTime:E,audioProxy:y,duration:T}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n(7),r=n(132),c=n(154),s=n(2),i=n(4);const o=new Map;let l,u=[];function d(){const e=l&&o.get(l);e&&e.audio.pause()}function m(e,t,n){o.has(e)||(o.set(e,function(e,t){const n=new Audio;function a(t){return a=>{o.has(e)&&(Object(c.a)(n)||o.get(e).handlers.forEach(e=>{e(t,a)}))}}return n.addEventListener("timeupdate",a("onTimeUpdate")),n.addEventListener("play",a("onPlay")),n.addEventListener("pause",a("onPause")),n.addEventListener("loadstart",a("onLoadStart")),n.addEventListener("loadeddata",a("onLoadedData")),n.addEventListener("playing",a("onPlaying")),n.addEventListener("ended",()=>{if(Object(c.a)(n))return;const t=u[u.indexOf(e)+1];if(!t)return;if(!o.has(t))return void Object(s.d)().openAudioPlayer(Object(i.zb)(t));const a=o.get(t);a.onForcePlay&&a.onForcePlay(),l=t,a.audio.src&&Object(r.a)(a.audio)}),{audio:n,proxy:new Proxy(n,{get:(e,t)=>e[t]}),handlers:[],onForcePlay:t}}(e,n)),u.includes(e)||u.push(e));const{audio:d,proxy:m,handlers:h}=o.get(e);return h.push(t),{play(t){l&&l!==e&&o.get(l).audio.pause(),l=e,d.src||(d.src=t,d.preload="auto",t.includes("/progressive/")&&a.j&&Object(c.b)(d)),Object(r.a)(d)},pause(){l===e&&d.pause()},setCurrentTime(t){l===e&&(d.currentTime=t)},proxy:m,destroy(n=!1){const a=o.get(e);a&&(a.handlers=a.handlers.filter(e=>e!==t),a.handlers.length||(a.audio.pause(),o.delete(e),n&&(u=u.filter(t=>t!==e)),e===l&&(l=void 0)))}}}},function(e,t,n){"use strict";function a(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var a=n(0),r=n(32),c=n(110),s=n(8),i=n(33),o=n(55),l=n(111),u=n(22),d=n(100),m=n(117),h=n(24);n(216);t.a=Object(a.h)(({ref:e,name:t,size:n,extension:b="",timestamp:f,sender:p,thumbnailDataUri:O,previewData:g,className:v,smaller:j,isTransferring:E,isUploading:y,isSelectable:N,isSelected:T,transferProgress:C,onClick:M,onDateClick:w})=>{const S=Object(d.a)();let L=Object(a.q)(null);e&&(L=e);const{shouldRender:I,transitionClassNames:A}=Object(r.a)(E,void 0,!0),k=Object(o.a)(b),x=Object(o.e)(n),{shouldRenderThumb:D,shouldRenderFullMedia:_,transitionClassNames:R}=Object(c.a)(g,"slow"),{width:F,height:P}=Object(l.i)(j),U=Object(s.a)("File",v,j&&"smaller",M&&!y&&"interactive",T&&"file-is-selected");return a.a.createElement("div",{ref:L,className:U},N&&a.a.createElement("div",{className:"message-select-control"},T&&a.a.createElement("i",{className:"icon-select"})),a.a.createElement("div",{className:"file-icon-container",onClick:y?void 0:M},O||g?a.a.createElement("div",{className:"file-preview media-inner"},D&&a.a.createElement("img",{src:O,width:F,height:P,className:"thumbnail",alt:""}),_&&a.a.createElement("img",{src:g,className:"full-media "+R,width:F,height:P,alt:""})):a.a.createElement("div",{className:"file-icon "+k},b.length<=4&&a.a.createElement("span",{className:"file-ext",dir:"auto"},b)),I&&a.a.createElement("div",{className:Object(s.a)("file-progress",k,A)},a.a.createElement(m.a,{progress:C,size:j?"s":"m",onClick:y?M:void 0})),M&&a.a.createElement("i",{className:Object(s.a)("icon-download",I&&"hidden")})),a.a.createElement("div",{className:"file-info"},a.a.createElement("div",{className:"file-title",dir:"auto"},Object(u.a)(t)),a.a.createElement("div",{className:"file-subtitle",dir:"auto"},a.a.createElement("span",null,E&&C?Math.round(100*C)+"%":x),p&&a.a.createElement("span",{className:"file-sender"},Object(u.a)(p)),!p&&f&&a.a.createElement(a.a.Fragment,null," ",a.a.createElement(h.a,{onClick:w},Object(i.d)(S,1e3*f))))),p&&f&&a.a.createElement(h.a,{onClick:w},Object(i.g)(S,1e3*f)))})},function(e,t,n){"use strict";var a=n(0),r=n(1),c=n(32),s=n(8),i=n(44),o=n(118);n(223);t.a=Object(a.h)(({message:e,duration:t=3e3,containerId:n,onDismiss:l})=>{const[u,d]=Object(a.r)(!0),m=Object(a.q)(null),{transitionClassNames:h}=Object(c.a)(u),b=Object(a.m)(()=>{d(!1),setTimeout(l,150+r.c)},[l]);Object(a.n)(()=>u?Object(i.a)(b):void 0,[u,b]),Object(a.n)(()=>(m.current=window.setTimeout(b,t),()=>{m.current&&(clearTimeout(m.current),m.current=void 0)}),[t,b]);const f=Object(a.m)(()=>{m.current&&(clearTimeout(m.current),m.current=void 0)},[]),p=Object(a.m)(()=>{m.current=window.setTimeout(b,t)},[t,b]);return a.a.createElement(o.a,{className:"Notification-container",containerId:n},a.a.createElement("div",{className:Object(s.a)("Notification",h),onClick:b,onMouseEnter:f,onMouseLeave:p},a.a.createElement("div",{className:"content"},e)))})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1);function r(e){const{commonAncestorContainer:t}=e;let n=t,r=1;for(;n&&n.id!==a.v&&r<5;)n=n.parentElement,r++;return Boolean(n&&n.id===a.v)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(0),r=n(1),c=n(7),s=n(60),i=n(31),o=n(125);let l,u,d;const m=/[^-_:\p{L}\p{N}]+/iu;function h(e,t,h,b=r.v,f){const[p,O,g]=Object(i.a)(),[v,j]=Object(a.r)([]),[E,y]=Object(a.r)([]),N=Object(a.p)(()=>v.length&&h.length?h.map(e=>d.emojis[e]).filter(Boolean):[],[v,h]);Object(a.n)(()=>{const e=()=>{j(Object.keys(d.emojis))};d?e():async function(){l||(l=n.e(1).then(n.t.bind(null,311,3)),u=(await l).default,d=Object(s.b)(u));return l}().then(e)},[]),Object(a.n)(()=>{if(!e||!t||!v.length)return void g();const n=function(e){const t=document.createElement("div");t.innerHTML=e.replace("<br>","\n");const n=t.innerText,a=n[n.length-1],r=n.split(m).pop();if(!n.length||m.test(a)||!r||!r.startsWith(":"))return;return r.toLowerCase()}(t);if(!n)return y([]),void g();const a=n.substr(1),r=""===a?N:v.filter(e=>d.emojis[e].names.find(e=>e.includes(a))).slice(0,36).map(e=>d.emojis[e]);r.length?(O(),y(r)):g()},[v,t,e,O,N,g]);const T=Object(a.m)(e=>{const n=t.lastIndexOf(":");if(-1!==n){f(`${t.substr(0,n)}${e}`);const a=document.getElementById(b);c.g||requestAnimationFrame(()=>{Object(o.a)(a,!0)})}g()},[t,b,f,g]);return{isEmojiTooltipOpen:p,closeEmojiTooltip:g,filteredEmojis:E,insertEmoji:T}}},function(e,t,n){"use strict";var a=n(0),r=n(11),c=n(16);t.a=Object(a.h)(e=>{const{isOpen:t}=e,n=Object(c.a)(r.a.Extra,"EmojiTooltip",!t);return n?a.a.createElement(n,e):void 0})},function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(1),s=n(6),i=n(9),o=n(125),l=n(8),u=n(3),d=n(7),m=n(51),h=n(155),b=n(31),f=n(59),p=n(177),O=n(160);const g=d.g?256:416;t.a=Object(a.h)(Object(r.h)(e=>{const{chatId:t,threadId:n}=Object(s.y)(e)||{},{messageSendKeyCombo:a}=e.settings.byKey;return{currentChatId:t,messageSendKeyCombo:a,replyingToId:t&&n?Object(s.lb)(e,t,n):void 0,noTabCapture:e.isPollModalOpen||e.payment.isPaymentModalOpen}},(e,t)=>Object(u.l)(t,["editLastMessage"]))(({id:e,editableInputId:t,html:n,placeholder:r,shouldSetFocus:s,shouldSupressFocus:u,shouldSupressTextFormatter:v,onUpdate:j,onSupressedFocus:E,onSend:y,currentChatId:N,replyingToId:T,noTabCapture:C,messageSendKeyCombo:M,editLastMessage:w})=>{const S=Object(a.q)(null),L=Object(a.q)(null),I=Object(a.q)(!1),[A,k,x]=Object(b.a)(),[D,_]=Object(a.r)(),[R,F]=Object(a.r)();Object(a.n)(()=>{q(!1)},[]),Object(h.a)(([e])=>{n!==S.current.innerHTML&&(S.current.innerHTML=n),n!==L.current.innerHTML&&(L.current.innerHTML=n),void 0!==e&&e!==n&&q(!n.length)},[n]);const P=Object(a.m)(()=>{S.current.closest(".from, .to")?setTimeout(P,350):Object(o.a)(S.current)},[]),U=Object(a.m)(()=>{x(),function(){const e=window.getSelection();e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}()},[x]);function B(){if(d.e)return;const e=window.getSelection();if(!e||!e.rangeCount||I.current)return void x();const t=e.getRangeAt(0),n=t.toString().trim();if(v||!Object(p.a)(t)||!n||Object(f.a)(n)||!t.START_TO_END)return void x();const a=t.getBoundingClientRect(),r=S.current.getBoundingClientRect();let c=a.left+a.width/2-r.left;c<90?c=90:c>r.width-90&&(c=r.width-90),_({x:c,y:a.top-r.top}),F(t),k()}function q(e=!1){const t=S.current,n=L.current,a=Number(t.style.height.replace("px","")),r=Math.min(n.scrollHeight,g);if(r===a)return;const c=Math.round(50*Math.log(Math.abs(r-a))),s=()=>{t.style.height=r+"px",t.style.transitionDuration=c+"ms",t.classList.toggle("overflown",n.scrollHeight>g)};e?requestAnimationFrame(s):s()}Object(a.n)(()=>{d.l||P()},[N,P,T,s]),Object(a.n)(()=>{if(C)return;const e=Object(i.a)(e=>{"Tab"===e.key&&(e.preventDefault(),requestAnimationFrame(P))},2e3,!0,!1);return Object(m.a)({onTab:e})},[P,C]),Object(a.n)(()=>{const e=S.current;function t(){e.blur()}return u&&e.addEventListener("focus",t),()=>{e.removeEventListener("focus",t)}},[u]);const H=Object(l.a)("form-control custom-scroll",n.length>0&&"touched",u&&"focus-disabled");return a.a.createElement("div",{id:e,onClick:u?E:void 0},a.a.createElement("div",{ref:S,id:t||c.v,className:H,dir:"auto",contentEditable:!0,onClick:P,onChange:function(e){const{innerHTML:t,textContent:n}=e.currentTarget;if(j("<br>"===t?"":t),!(d.l||n&&n.length)){const e=window.getSelection();e&&(S.current.blur(),e.removeAllRanges(),Object(o.a)(S.current,!0))}},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey?"ArrowUp"!==e.key||n.length?e.target.addEventListener("keyup",(function t(){B(),e.target.removeEventListener("keyup",t)})):(e.preventDefault(),w()):d.e||d.b||!("enter"===M&&!e.shiftKey||"ctrl-enter"===M&&(e.ctrlKey||e.metaKey))||(e.preventDefault(),x(),y())},onMouseDown:function(e){2===e.button?!0!==I.current&&(I.current=!0,document.addEventListener("mousedown",(function e(){setTimeout(()=>{I.current=!1},100),window.removeEventListener("mouseup",e)})),document.addEventListener("keydown",(function e(t){"Esc"!==t.key&&"Escape"!==t.key||(setTimeout(()=>{I.current=!1},100),window.removeEventListener("keydown",e))}))):e.target.addEventListener("mouseup",(function t(){B(),e.target.removeEventListener("mouseup",t)}))},onContextMenu:function(e){d.b&&(e.preventDefault(),e.stopPropagation())},onTouchCancel:function(){d.b&&B()}}),a.a.createElement("div",{ref:L,className:Object(l.a)(H,"clone"),dir:"auto"}),a.a.createElement("span",{className:"placeholder-text",dir:"auto"},r),a.a.createElement(O.a,{isOpen:A,anchorPosition:D,selectedRange:R,onClose:U}))}))},function(e,t,n){"use strict";var a=n(0),r=n(4),c=n(8),s=n(36),i=n(22),o=n(33),l=n(100),u=n(161),d=n(24),m=n(53);n(244);t.a=Object(a.h)(({message:e,senderTitle:t,onMessageClick:n})=>{const h=Object(l.a)();let b=Object(r.Q)(e);if(!b){const t=Object(r.n)(e);if(t){const{url:n,domain:a}=t,c=Object(r.N)(h,e);b={siteName:a.replace(/^www./,""),url:n.includes("://")?n:n.includes("@")?"mailto:"+n:"http://"+n,description:c!==n?c:void 0}}}const f=Object(a.m)(()=>{n(e.id,e.chatId)},[n,e.id,e.chatId]);if(!b)return;const{siteName:p,url:O,displayUrl:g,title:v,description:j,photo:E}=b,y=!t&&Object(s.a)(j,170),N=Object(c.a)("WebLink scroll-item",!E&&"without-photo");return a.a.createElement("div",{className:N,"data-initial":(p||g)[0]},E&&a.a.createElement(u.a,{message:e}),a.a.createElement("div",{className:"content"},a.a.createElement(d.a,{className:"site-title",onClick:f},Object(i.a)(v||p||g)),y&&a.a.createElement(d.a,{className:"site-description",onClick:f},Object(i.a)(y)),a.a.createElement(m.a,{url:O,className:"site-name",text:""},O.replace("mailto:","")||g),t&&a.a.createElement("div",{className:"sender-name"},Object(i.a)(t))),t&&a.a.createElement("div",{className:"message-date"},a.a.createElement(d.a,{className:"date",onClick:f},Object(o.g)(h,1e3*e.date))))})},,,,function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(5),s=n(1),i=n(7),o=n(41),l=n(3),u=n(4),d=n(6),m=n(123);let h;!function(e){e[e.Move=0]="Move",e[e.Opacity=1]="Opacity",e[e.None=2]="None"}(h||(h={}));var b=n(108),f=n(15),p=n(100),O=n(62),g=n(22),v=n(9),j=n(8),E=n(140),y=n(166),N=n(31),T=n(103);n(198);var C=Object(a.h)(({isSelected:e,isActive:t})=>a.a.createElement("div",{className:Object(j.a)("ChatCallStatus",t&&"active",e&&"selected")},a.a.createElement("div",{className:"indicator"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))),M=n(107),w=n(129),S=n(152),L=n(167),I=n(153),A=n(101),k=n(46),x=n(170);n(205);var D=Object(a.h)(({chat:e,isPinned:t,isMuted:n})=>{const r=Boolean(e.unreadCount||e.hasUnreadMark||t),c=Object(j.a)("Badge",n&&"muted",t&&"pinned",Boolean(e.unreadCount||e.hasUnreadMark)&&"unread");function s(){return e.unreadCount?e.unreadMentionsCount?a.a.createElement("div",{className:"Badge-wrapper"},a.a.createElement("div",{className:"Badge mention"},a.a.createElement("i",{className:"icon-mention"})),a.a.createElement("div",{className:c},Object(k.b)(e.unreadCount))):a.a.createElement("div",{className:c},Object(k.b)(e.unreadCount)):e.hasUnreadMark?a.a.createElement("div",{className:c}):t?a.a.createElement("div",{className:c},a.a.createElement("i",{className:"icon-pinned-chat"})):void 0}return a.a.createElement(x.a,{isCustom:!0,className:"Badge-transition",isOpen:r},s)});n(206);var _,R=Object(a.h)(Object(r.h)((e,{chatId:t})=>{const n=Object(d.f)(e,t);if(!n||!n.lastMessage)return{};const{senderId:a,replyToMessageId:r,isOutgoing:s}=n.lastMessage,i=a?Object(d.Fb)(e,a):void 0,o=Object(u.t)(n.lastMessage),l=o&&r?Object(d.k)(e,n.id,r):void 0,{targetUserId:m,targetChatId:h}=o||{},b=Object(u.U)(n),{type:f}=Object(d.y)(e)||{};return{chat:n,isMuted:Object(u.Cb)(n,Object(d.db)(e),Object(d.cb)(e)),lastMessageSender:i,...s&&{lastMessageOutgoingStatus:Object(d.eb)(e,n.lastMessage)},...b&&{privateChatUser:Object(d.Fb)(e,b)},...m&&{actionTargetUser:Object(d.Fb)(e,m)},actionTargetChatId:h,actionTargetMessage:l,draft:Object(d.B)(e,t,c.MAIN_THREAD_ID),messageListType:f,animationLevel:e.settings.byKey.animationLevel,lastSyncTime:e.lastSyncTime}},(e,t)=>Object(l.l)(t,["openChat","focusLastMessage"]))(({style:e,chatId:t,folderId:n,orderDiff:r,animationType:c,isSelected:o,isPinned:l,chat:d,isMuted:m,privateChatUser:b,actionTargetUser:f,lastMessageSender:k,lastMessageOutgoingStatus:x,actionTargetMessage:_,actionTargetChatId:R,draft:F,messageListType:P,animationLevel:U,lastSyncTime:B,openChat:q,focusLastMessage:H})=>{const $=Object(a.q)(null),[Y,V,K]=Object(N.a)(),{lastMessage:z,typingStatus:W}=d||{},G=z&&Object(u.db)(z);Object(E.a)(t,G?z.replyToMessageId:void 0,_);const X=z&&!Object(u.M)(z)?Object(u.E)(z):void 0,Q=Object(T.a)(z?Object(u.D)(z,"micro"):void 0),J=Boolean(z&&Object(u.I)(z));Object(a.o)(()=>{if(0===U)return;const e=$.current;if(c===h.Opacity)e.style.opacity="0",Object(v.b)(()=>{e.classList.add("animate-opacity"),e.style.opacity="1"});else{if(c!==h.Move)return;e.style.transform=`translate3d(0, ${100*-r}%, 0)`,Object(v.b)(()=>{e.classList.add("animate-transform"),e.style.transform=""})}setTimeout(()=>{Object(v.b)(()=>{e.classList.remove("animate-opacity","animate-transform"),e.style.opacity="",e.style.transform=""})},200+s.c)},[U,r,c]);const Z=Object(a.m)(()=>{q({id:t}),o&&"thread"===P&&H()},[o,P,q,t,H]),ee=Object(y.a)({chat:d,privateChatUser:b,handleDelete:V,folderId:n,isPinned:l}),te=Object(p.a)();if(!d)return;const ne=Object(j.a)("Chat chat-item-clickable",Object(u.lb)(t)?"private":"group",o&&!i.g&&"selected");return a.a.createElement(A.a,{ref:$,className:ne,style:e,ripple:!i.g,contextActions:ee,onClick:Z},a.a.createElement("div",{className:"status"},a.a.createElement(M.a,{chat:d,user:b,withOnlineStatus:!0,isSavedMessages:b&&b.isSelf,lastSyncTime:B}),d.isCallActive&&a.a.createElement(C,{isSelected:o,isActive:0!==U})),a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"title"},a.a.createElement("h3",null,Object(g.a)(Object(u.l)(te,d,b))),d.isVerified&&a.a.createElement(w.a,null),m&&a.a.createElement("i",{className:"icon-muted-chat"}),d.lastMessage&&a.a.createElement(L.a,{message:d.lastMessage,outgoingStatus:x})),a.a.createElement("div",{className:"subtitle"},function(){if(W&&z&&W.timestamp>1e3*z.date)return a.a.createElement(S.a,{typingStatus:W});if(F&&F.text.length)return a.a.createElement("p",{className:"last-message",dir:"auto"},a.a.createElement("span",{className:"draft"},te("Draft")),Object(g.a)(F.text));if(!z)return;if(G){const e=d&&(Object(u.jb)(d)||z.senderId===z.chatId)?d:k;return a.a.createElement("p",{className:"last-message",dir:"auto"},Object(g.a)(Object(O.a)(te,z,e,f,_,R,{asPlain:!0})))}const e=Object(u.J)(te,t,k);return a.a.createElement("p",{className:"last-message",dir:"auto"},e&&a.a.createElement("span",{className:"sender-name"},Object(g.a)(e)),function(e,t,n,r){if(!n)return Object(g.a)(Object(u.N)(e,t));return a.a.createElement("span",{className:"media-preview"},a.a.createElement("img",{src:n,alt:"",className:r?"round":void 0}),Object(u.P)(t)&&a.a.createElement("i",{className:"icon-play"}),Object(g.a)(Object(u.N)(e,t,!0)))}(te,z,Q||X,J))}(),a.a.createElement(D,{chat:d,isPinned:l,isMuted:m}))),a.a.createElement(I.a,{isOpen:Y,onClose:K,chat:d}))}));!function(e){e.all="active",e.archived="archived"}(_||(_={}));t.a=Object(a.h)(Object(r.h)((e,{folderType:t,folderId:n})=>{const{chats:{listIds:a,byId:r,orderedPinnedIds:s},users:{byId:i},lastSyncTime:o}=e,{chatId:l,threadId:u}=Object(d.y)(e)||{},m="folder"!==t?_[t]:void 0,h=n?Object(d.i)(e,n):void 0;return{chatsById:r,usersById:i,currentChatId:l,lastSyncTime:o,...m?{listIds:a[m],orderedPinnedIds:s[m]}:{chatFolder:h},isInDiscussionThread:u!==c.MAIN_THREAD_ID,notifySettings:Object(d.db)(e),notifyExceptions:Object(d.cb)(e)}},(e,t)=>Object(l.l)(t,["loadMoreChats","preloadTopChatMessages"]))(({folderType:e,folderId:t,noChatsText:n="Chat list is empty.",chatFolder:r,chatsById:c,usersById:d,listIds:p,currentChatId:O,orderedPinnedIds:g,lastSyncTime:v,isInDiscussionThread:j,notifySettings:E,notifyExceptions:y,loadMoreChats:N,preloadTopChatMessages:T})=>{const[C,M]=Object(a.p)(()=>"folder"===e&&r?Object(u.Bb)(c,d,r,E,y):[p,g],[e,r,c,d,E,y,p,g]),[w,S]=Object(a.p)(()=>{if(!C||"folder"===e&&!r)return[];const t=Object(u.Ab)(c,C,M,e),n=[...t.pinnedChats,...t.otherChats],a=n.map(({id:e})=>e);return[n.reduce((e,t,n)=>(e[t.id]=n,e),{}),a]},[C,M,e,r,c]),L=Object(o.a)(w),I=w&&L?Object(l.i)(w,(e,t)=>e-(void 0!==L[t]?L[t]:1/0)):{},A=Object(a.m)(()=>{N({listType:"archived"===e?"archived":"active"})},[N,e]),[k,x]=Object(m.a)(v?A:void 0,S,void 0,s.k,"all"===e&&!s.a),D=k&&Object(u.Ab)(c,k,M,e);Object(a.n)(()=>{v&&"all"===e&&T()},[v,e,T]);const _=function(e){const t=Object(a.m)(t=>e[t]<0,[e]),n=Object(a.m)(t=>e[t]>0,[e]),r=Object.keys(e).map(Number),c=r.filter(t).length,s=r.filter(n).length;return Object(a.m)(a=>{const r=e[a];return 0===r?h.None:r===1/0||r===-1/0||t(a)&&c<=s||n(a)&&s<c?h.Opacity:h.Move},[n,t,s,c,e])}(I);return a.a.createElement(b.a,{className:"chat-list custom-scroll",items:k,onLoadMore:x,preloadBackwards:s.k,noFastList:!0,noScrollRestore:!0},k&&k.length&&D?function(){const e=S.indexOf(k[0]),n=e+D.pinnedChats.length;return a.a.createElement("div",{className:"scroll-container",style:i.b?`height: ${S.length*s.i}px`:void 0,teactFastList:!0},D.pinnedChats.map(({id:n},r)=>a.a.createElement(R,{key:n,teactOrderKey:r,chatId:n,isPinned:!0,folderId:t,isSelected:n===O&&!j,animationType:_(n),orderDiff:I[n],style:`top: ${(e+r)*s.i}px;`})),D.otherChats.map((e,r)=>a.a.createElement(R,{key:e.id,teactOrderKey:Object(u.j)(e),chatId:e.id,folderId:t,isSelected:e.id===O&&!j,animationType:_(e.id),orderDiff:I[e.id],style:`top: ${(n+r)*s.i}px;`})))}():k&&!k.length?a.a.createElement("div",{className:"no-results"},n):a.a.createElement(f.a,{key:"loading"}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),r=n(5),c=n(1),s=n(4),i=n(48);var o=n(7),l=n(125),u=n(31);const d=/[^@_\d\wа-яё]+/i;function m(e,t,n,m=c.v,h,b,f){const[p,O,g]=Object(u.a)(),[v,j]=Object(a.r)(""),[E,y]=Object(a.r)([]),N=Object(a.m)(e=>{if(h&&f)return h.filter(({userId:t})=>{const n=f[t];return!(t===b||!n)&&(!e||function(e,t){const n=t.username.toLowerCase(),a=Object(s.Z)(t),r=a&&a.toLowerCase(),c=e.toLowerCase();return n.startsWith(c)||r&&Object(i.a)(r,c)}(e,n))})},[h,b,f]);Object(a.n)(()=>{if(!e||!t.length)return void g();const n=function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.innerText,a=n[n.length-1],r=n.split(d).pop();if(!n.length||d.test(a)||!r||!r.startsWith("@"))return;return r}(t);if(n){const e=n?n.substr(1):"",t=N(e);t&&t.length?(O(),j(e),y(t)):g()}else g()},[e,t,N,O,g]);const T=Object(a.m)((e,a=!1)=>{if(!e.username&&!Object(s.Y)(e))return;const c=e.username?"@"+e.username:`<a\n          class="text-entity-link"\n          data-entity-type="${r.ApiMessageEntityTypes.MentionName}"\n          data-user-id="${e.id}"\n          contenteditable="false"\n          dir="auto"\n        >${Object(s.Y)(e)}</a>`,i=t.lastIndexOf("@");if(-1!==i){n(`${t.substr(0,i)}${c}&nbsp;`);const e=document.getElementById(m);o.g||requestAnimationFrame(()=>{Object(l.a)(e,a)})}g()},[t,m,n,g]);return{isMentionTooltipOpen:p,mentionFilter:v,closeMentionTooltip:g,insertMention:T,mentionFilteredMembers:E}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n(159),c=n(109),s=n(13),i=n(35);const o=new Map;function l(e){const t=Object(a.q)();let n=!1;Object(c.a)(()=>{if(n=!0,t.current=void 0,!e)return;const a=new Image;if(a.src=e,!a.width)return;const c=Object(s.f)(a);Object(r.a)(c.getContext("2d"),0,0,c.width,c.height,2,2),t.current=c.toDataURL()},[e]);const l=function(e,t=!1,n){const c=Object(a.q)(e?o.get(e):void 0),l=Object(a.q)(),u=Object(i.a)();return l.current&&t&&(clearTimeout(l.current),l.current=void 0),Object(a.n)(()=>{if(!e||c.current||t)return;const a=new Image;a.onload=()=>{const t=Object(s.f)(a);Object(r.a)(t.getContext("2d"),0,0,t.width,t.height,2,2);const n=t.toDataURL();c.current=n,u(),o.size>=1e3&&o.clear(),o.set(e,n)},n?l.current=window.setTimeout(()=>{a.src=e},n):a.src=e},[e,n,u,t]),c.current}(e||void 0,Boolean(t.current));return t.current||!n&&l||e||void 0}},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){}])]);
//# sourceMappingURL=0.0575a04a5ca459e6ace1.js.map